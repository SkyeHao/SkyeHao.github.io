<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>Java进阶 | Skye-Blog</title>
  <meta name="description" content="常用APIMath1、Math包含执行基本数字运算的方法 2、Math没有构造方法，如何使用类中的成员呢？  看类的成员是否都是静态的，如果是，通过类名就可以直接调用    SystemSystem类包含几个有用的类字段和方法，它不能被实例化   Object1、Object是类层次结构的根，每个类都可以将Object作为超类，所有类都直接或者间接的继承自Object 2、构造方法：    pub">
<meta property="og:type" content="article">
<meta property="og:title" content="Java进阶">
<meta property="og:url" content="http://example.com/2022/01/06/Java%E8%BF%9B%E9%98%B6/index.html">
<meta property="og:site_name" content="Skye的博客">
<meta property="og:description" content="常用APIMath1、Math包含执行基本数字运算的方法 2、Math没有构造方法，如何使用类中的成员呢？  看类的成员是否都是静态的，如果是，通过类名就可以直接调用    SystemSystem类包含几个有用的类字段和方法，它不能被实例化   Object1、Object是类层次结构的根，每个类都可以将Object作为超类，所有类都直接或者间接的继承自Object 2、构造方法：    pub">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210312144420224.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210312144803924.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210312160610180.gif">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210312161152401.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210314094454730.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210314105057426.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210314124007333.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210314140333978.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210314140425814.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210314140601387.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2021031414063784.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2021031414071019.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210314140838568.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210314141058999.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210314141251490.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210314141317146.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210314141357535.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210314150249641.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_11,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210314150907167.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210314175244975.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210314175402375.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210315165414260.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210315174038402.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210315202507214.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210315203049806.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210315203137982.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2021031520565033.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2021031520571818.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210315205744356.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210315205822142.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210315222803678.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210315223306239.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210316113241947.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210316140746838.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210316140837774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210321163552609.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210321164245304.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210321170427536.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
<meta property="article:published_time" content="2022-01-06T11:15:35.000Z">
<meta property="article:modified_time" content="2022-02-08T04:05:17.107Z">
<meta property="article:author" content="Skye">
<meta property="article:tag" content="计算机">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/20210312144420224.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70">
  <!-- Canonical links -->
  <link rel="canonical" href="http://example.com/2022/01/06/Java%E8%BF%9B%E9%98%B6/index.html">
  
    <link rel="alternate" href="/atom.xml" title="Skye的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="images/avatar.jpg" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 6.0.0"></head>


<body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://github.com/SkyeHao" target="_blank">
          <img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">Skye</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">大四就业狗 &amp; 后端开发</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> 新乡, 中国</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav menu-highlight">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">标签</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a target="_blank" rel="noopener" href="https://github.com/SkyeHao?tab=repositories">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">项目</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">友链</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">关于</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/SkyeHao" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="https://weibo.com/u/6577680227" target="_blank" title="Weibo" data-toggle=tooltip data-placement=top><i class="icon icon-weibo"></i></a></li>
        
        <li><a href="https://twitter.com/iwebued" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
        <li><a href="https://www.zhihu.com/" target="_blank" title="Zhihu" data-toggle=tooltip data-placement=top><i class="icon icon-zhihu"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>欢迎来到Skye的个人博客!</p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">16</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><span class="category-list-count">12</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/%E5%89%91%E6%8C%87offer/">剑指offer</a><span class="category-list-count">10</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/%E5%89%91%E6%8C%87offer/%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/">栈和队列</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/%E5%89%91%E6%8C%87offer/%E9%93%BE%E8%A1%A8/">链表</a><span class="category-list-count">9</span></li></ul></li></ul></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">标签</h3>
    <div class="widget-body">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA/" rel="tag">计算机</a><span class="tag-list-count">30</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">标签云</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA/" style="font-size: 13px;">计算机</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">归档</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">二月 2022</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">一月 2022</a><span class="archive-list-count">16</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><i class="icon icon-angle-right"></i><a class="category-link" href="/categories/%E7%AE%97%E6%B3%95/%E5%89%91%E6%8C%87offer/">剑指offer</a>
              </p>
              <p class="item-title">
                <a href="/2022/02/09/9%E3%80%81%E5%88%A0%E9%99%A4%E9%93%BE%E8%A1%A8%E7%9A%84%E7%BB%93%E7%82%B9/" class="title">删除链表的结点</a>
              </p>
              <p class="item-date">
                <time datetime="2022-02-09T11:27:17.000Z" itemprop="datePublished">2022-02-09</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><i class="icon icon-angle-right"></i><a class="category-link" href="/categories/%E7%AE%97%E6%B3%95/%E5%89%91%E6%8C%87offer/">剑指offer</a>
              </p>
              <p class="item-title">
                <a href="/2022/02/09/8%E3%80%81%E5%88%A0%E9%99%A4%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E9%87%8D%E5%A4%8D%E7%BB%93%E7%82%B9/" class="title">删除链表中的重复结点</a>
              </p>
              <p class="item-date">
                <time datetime="2022-02-09T02:31:46.000Z" itemprop="datePublished">2022-02-09</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><i class="icon icon-angle-right"></i><a class="category-link" href="/categories/%E7%AE%97%E6%B3%95/%E5%89%91%E6%8C%87offer/">剑指offer</a>
              </p>
              <p class="item-title">
                <a href="/2022/02/08/7%E3%80%81%E5%A4%8D%E6%9D%82%E9%93%BE%E8%A1%A8%E7%9A%84%E5%A4%8D%E5%88%B6/" class="title">复杂链表的复制</a>
              </p>
              <p class="item-date">
                <time datetime="2022-02-08T11:11:54.000Z" itemprop="datePublished">2022-02-08</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><i class="icon icon-angle-right"></i><a class="category-link" href="/categories/%E7%AE%97%E6%B3%95/%E5%89%91%E6%8C%87offer/">剑指offer</a>
              </p>
              <p class="item-title">
                <a href="/2022/02/08/4%E3%80%81%E4%B8%A4%E4%B8%AA%E9%93%BE%E8%A1%A8%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%85%AC%E5%85%B1%E7%BB%93%E7%82%B9/" class="title">两个链表的第一个公共结点</a>
              </p>
              <p class="item-date">
                <time datetime="2022-02-08T09:05:02.000Z" itemprop="datePublished">2022-02-08</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><i class="icon icon-angle-right"></i><a class="category-link" href="/categories/%E7%AE%97%E6%B3%95/%E5%89%91%E6%8C%87offer/">剑指offer</a>
              </p>
              <p class="item-title">
                <a href="/2022/02/08/5%E3%80%81%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%8E%AF%E7%9A%84%E5%85%A5%E5%8F%A3%E7%BB%93%E7%82%B9/" class="title">链表中环的入口结点</a>
              </p>
              <p class="item-date">
                <time datetime="2022-02-08T09:05:02.000Z" itemprop="datePublished">2022-02-08</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
  <aside class="sidebar sidebar-toc collapse   in  " id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8API"><span class="toc-number">1.</span> <span class="toc-text">常用API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Math"><span class="toc-number">1.1.</span> <span class="toc-text">Math</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#System"><span class="toc-number">1.2.</span> <span class="toc-text">System</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Object"><span class="toc-number">1.3.</span> <span class="toc-text">Object</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#toString-NaN"><span class="toc-number">1.3.1.</span> <span class="toc-text">toString()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#equals"><span class="toc-number">1.3.2.</span> <span class="toc-text">equals()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Arrays"><span class="toc-number">1.4.</span> <span class="toc-text">Arrays</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F"><span class="toc-number">1.4.1.</span> <span class="toc-text">冒泡排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Arrays%E7%B1%BB%E7%9A%84%E6%A6%82%E8%BF%B0%E5%92%8C%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.4.2.</span> <span class="toc-text">Arrays类的概述和常用方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%8C%85%E8%A3%85%E7%B1%BB"><span class="toc-number">1.5.</span> <span class="toc-text">基本类型包装类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.5.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Integer%E7%B1%BB%E7%9A%84%E6%A6%82%E8%BF%B0%E5%92%8C%E4%BD%BF%E7%94%A8"><span class="toc-number">1.5.2.</span> <span class="toc-text">Integer类的概述和使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#int%E5%92%8CString%E7%9A%84%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.5.3.</span> <span class="toc-text">int和String的相互转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E7%B1%BB"><span class="toc-number">1.6.</span> <span class="toc-text">日期类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Date%E7%B1%BB"><span class="toc-number">1.6.1.</span> <span class="toc-text">Date类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SimpleDateFormat%E7%B1%BB"><span class="toc-number">1.6.2.</span> <span class="toc-text">SimpleDateFormat类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Calendar%E7%B1%BB"><span class="toc-number">1.6.3.</span> <span class="toc-text">Calendar类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8"><span class="toc-number">2.</span> <span class="toc-text">异常</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-1"><span class="toc-number">2.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JVM%E7%9A%84%E9%BB%98%E8%AE%A4%E5%A4%84%E7%90%86%E6%96%B9%E6%A1%88"><span class="toc-number">2.2.</span> <span class="toc-text">JVM的默认处理方案</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-number">2.3.</span> <span class="toc-text">异常处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8D%95%E8%8E%B7%E5%BC%82%E5%B8%B8%EF%BC%9Atry-catch"><span class="toc-number">2.3.1.</span> <span class="toc-text">捕获异常：try-catch</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Throwable%E6%88%90%E5%91%98%E6%96%B9%E6%B3%95"><span class="toc-number">2.3.2.</span> <span class="toc-text">Throwable成员方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#getMessage"><span class="toc-number">2.3.2.1.</span> <span class="toc-text">getMessage()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#toString"><span class="toc-number">2.3.2.2.</span> <span class="toc-text">toString()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#printStackTrace"><span class="toc-number">2.3.2.3.</span> <span class="toc-text">printStackTrace()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%EF%BC%9Athrows"><span class="toc-number">2.3.3.</span> <span class="toc-text">抛出异常：throws</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8"><span class="toc-number">2.4.</span> <span class="toc-text">自定义异常</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#throws%E5%92%8Cthrow%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.4.1.</span> <span class="toc-text">throws和throw的区别</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#finally%E5%AD%90%E5%8F%A5"><span class="toc-number">2.5.</span> <span class="toc-text">finally子句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#try-with-resources"><span class="toc-number">2.6.</span> <span class="toc-text">try-with-resources</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E8%BF%9B%E9%98%B6"><span class="toc-number">3.</span> <span class="toc-text">集合进阶</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0"><span class="toc-number">3.1.</span> <span class="toc-text">集合概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Collection"><span class="toc-number">3.2.</span> <span class="toc-text">Collection</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0%E5%92%8C%E4%BD%BF%E7%94%A8"><span class="toc-number">3.2.1.</span> <span class="toc-text">概述和使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">3.2.2.</span> <span class="toc-text">常用方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Iterator%E8%BF%AD%E4%BB%A3%E5%99%A8%E9%81%8D%E5%8E%86"><span class="toc-number">3.2.3.</span> <span class="toc-text">使用Iterator迭代器遍历</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E7%9A%84%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4"><span class="toc-number">3.2.4.</span> <span class="toc-text">集合的使用步骤</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#List"><span class="toc-number">3.3.</span> <span class="toc-text">List</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0%E5%92%8C%E7%89%B9%E7%82%B9"><span class="toc-number">3.3.1.</span> <span class="toc-text">概述和特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#list%E9%9B%86%E5%90%88%E7%9A%84%E7%89%B9%E6%9C%89%E6%96%B9%E6%B3%95"><span class="toc-number">3.3.2.</span> <span class="toc-text">list集合的特有方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E4%BF%AE%E6%94%B9%E5%BC%82%E5%B8%B8"><span class="toc-number">3.3.3.</span> <span class="toc-text">并发修改异常</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#listIterator%E5%88%97%E8%A1%A8%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">3.3.4.</span> <span class="toc-text">listIterator列表迭代器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"><span class="toc-number">3.3.4.1.</span> <span class="toc-text">源码分析</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A2%9E%E5%BC%BAfor%E5%BE%AA%E7%8E%AF"><span class="toc-number">3.3.5.</span> <span class="toc-text">增强for循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">3.3.6.</span> <span class="toc-text">数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%88"><span class="toc-number">3.3.6.1.</span> <span class="toc-text">栈</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%9F%E5%88%97"><span class="toc-number">3.3.6.2.</span> <span class="toc-text">队列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">3.3.6.3.</span> <span class="toc-text">数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%93%BE%E8%A1%A8"><span class="toc-number">3.3.6.4.</span> <span class="toc-text">链表</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#list%E9%9B%86%E5%90%88%E5%AD%90%E7%B1%BB%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">3.3.7.</span> <span class="toc-text">list集合子类的特点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Set"><span class="toc-number">3.4.</span> <span class="toc-text">Set</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0%E5%92%8C%E7%89%B9%E7%82%B9-1"><span class="toc-number">3.4.1.</span> <span class="toc-text">概述和特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E5%80%BC"><span class="toc-number">3.4.2.</span> <span class="toc-text">哈希值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HashSet"><span class="toc-number">3.4.3.</span> <span class="toc-text">HashSet</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HashSet%E4%BF%9D%E8%AF%81%E5%85%83%E7%B4%A0%E5%94%AF%E4%B8%80%E7%9A%84%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"><span class="toc-number">3.4.3.1.</span> <span class="toc-text">HashSet保证元素唯一的源码分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HashSet%E9%9B%86%E5%90%88%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="toc-number">3.4.3.2.</span> <span class="toc-text">HashSet集合添加元素的过程</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E8%A1%A8"><span class="toc-number">3.4.4.</span> <span class="toc-text">哈希表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LinkedHashSet"><span class="toc-number">3.4.5.</span> <span class="toc-text">LinkedHashSet</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TreeSet"><span class="toc-number">3.4.6.</span> <span class="toc-text">TreeSet</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E7%84%B6%E6%8E%92%E5%BA%8FComparable"><span class="toc-number">3.4.7.</span> <span class="toc-text">自然排序Comparable</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E5%99%A8%E6%8E%92%E5%BA%8FComparator"><span class="toc-number">3.4.8.</span> <span class="toc-text">比较器排序Comparator</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B"><span class="toc-number">3.5.</span> <span class="toc-text">泛型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E7%B1%BB"><span class="toc-number">3.5.1.</span> <span class="toc-text">泛型类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E6%96%B9%E6%B3%95"><span class="toc-number">3.5.2.</span> <span class="toc-text">泛型方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E6%8E%A5%E5%8F%A3"><span class="toc-number">3.5.3.</span> <span class="toc-text">泛型接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E6%93%A6%E9%99%A4"><span class="toc-number">3.5.4.</span> <span class="toc-text">类型擦除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E9%80%9A%E9%85%8D%E7%AC%A6"><span class="toc-number">3.5.5.</span> <span class="toc-text">类型通配符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Map"><span class="toc-number">3.6.</span> <span class="toc-text">Map</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD"><span class="toc-number">3.6.1.</span> <span class="toc-text">基本功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%8A%9F%E8%83%BD"><span class="toc-number">3.6.2.</span> <span class="toc-text">获取功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86"><span class="toc-number">3.6.3.</span> <span class="toc-text">遍历</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Collections"><span class="toc-number">3.7.</span> <span class="toc-text">Collections</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#IO%E6%B5%81"><span class="toc-number">4.</span> <span class="toc-text">IO流</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#File"><span class="toc-number">4.1.</span> <span class="toc-text">File</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0%E5%92%8C%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.1.</span> <span class="toc-text">概述和构造方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#File%E7%B1%BB%E7%9A%84%E5%88%9B%E5%BB%BA%E5%8A%9F%E8%83%BD"><span class="toc-number">4.1.2.</span> <span class="toc-text">File类的创建功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#File%E7%B1%BB%E7%9A%84%E5%88%A4%E6%96%AD%E5%92%8C%E8%8E%B7%E5%8F%96%E5%8A%9F%E8%83%BD"><span class="toc-number">4.1.3.</span> <span class="toc-text">File类的判断和获取功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#File%E7%B1%BB%E7%9A%84%E5%88%A0%E9%99%A4%E5%8A%9F%E8%83%BD"><span class="toc-number">4.1.4.</span> <span class="toc-text">File类的删除功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%92%E5%BD%92"><span class="toc-number">4.1.5.</span> <span class="toc-text">递归</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81"><span class="toc-number">4.2.</span> <span class="toc-text">字节流</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#IO%E6%B5%81%E6%A6%82%E8%BF%B0%E5%92%8C%E5%88%86%E7%B1%BB"><span class="toc-number">4.2.1.</span> <span class="toc-text">IO流概述和分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81%E5%86%99%E6%95%B0%E6%8D%AE"><span class="toc-number">4.2.2.</span> <span class="toc-text">字节流写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81%E5%86%99%E6%95%B0%E6%8D%AE%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">4.2.3.</span> <span class="toc-text">字节流写数据的三种方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81%E5%86%99%E6%95%B0%E6%8D%AE%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%B0%8F%E9%97%AE%E9%A2%98"><span class="toc-number">4.2.4.</span> <span class="toc-text">字节流写数据的两个小问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81%E5%86%99%E6%95%B0%E6%8D%AE%E5%8A%A0%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86-finally"><span class="toc-number">4.2.5.</span> <span class="toc-text">字节流写数据加异常处理(finally)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81%E8%AF%BB%E6%95%B0%E6%8D%AE%EF%BC%88%E4%B8%80%E6%AC%A1%E8%AF%BB%E4%B8%80%E4%B8%AA%E5%AD%97%E8%8A%82%E6%95%B0%E6%8D%AE%EF%BC%89"><span class="toc-number">4.2.6.</span> <span class="toc-text">字节流读数据（一次读一个字节数据）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%88%E4%B8%80%E6%AC%A1%E8%AF%BB%E4%B8%80%E4%B8%AA%E5%AD%97%E8%8A%82%E6%95%B0%E7%BB%84%EF%BC%89"><span class="toc-number">4.2.7.</span> <span class="toc-text">字节流读取数据（一次读一个字节数组）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E8%8A%82%E7%BC%93%E5%86%B2%E6%B5%81"><span class="toc-number">4.2.8.</span> <span class="toc-text">字节缓冲流</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E6%B5%81"><span class="toc-number">4.3.</span> <span class="toc-text">字符流</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%9A%E5%87%BA%E7%8E%B0%E5%AD%97%E7%AC%A6%E6%B5%81%EF%BC%9F"><span class="toc-number">4.3.1.</span> <span class="toc-text">为什么会出现字符流？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E7%A0%81%E8%A1%A8"><span class="toc-number">4.3.2.</span> <span class="toc-text">编码表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%9A%84%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E9%97%AE%E9%A2%98"><span class="toc-number">4.3.3.</span> <span class="toc-text">字符串中的编码解码问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E6%B5%81%E4%B8%AD%E7%9A%84%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E9%97%AE%E9%A2%98"><span class="toc-number">4.3.4.</span> <span class="toc-text">字符流中的编码解码问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E6%B5%81%E5%86%99%E6%95%B0%E6%8D%AE%E7%9A%84%E4%BA%94%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">4.3.5.</span> <span class="toc-text">字符流写数据的五种方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E6%B5%81%E8%AF%BB%E6%95%B0%E6%8D%AE%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">4.3.6.</span> <span class="toc-text">字符流读数据的两种方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FileReader%E5%92%8CFileWriter"><span class="toc-number">4.3.7.</span> <span class="toc-text">FileReader和FileWriter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E7%BC%93%E5%86%B2%E6%B5%81"><span class="toc-number">4.3.8.</span> <span class="toc-text">字符缓冲流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E7%BC%93%E5%86%B2%E6%B5%81%E7%9A%84%E7%89%B9%E6%9C%89%E5%8A%9F%E8%83%BD"><span class="toc-number">4.3.9.</span> <span class="toc-text">字符缓冲流的特有功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-number">4.3.10.</span> <span class="toc-text">复制文件的异常处理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IO%E6%B5%81%E5%B0%8F%E7%BB%93"><span class="toc-number">4.4.</span> <span class="toc-text">IO流小结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E6%93%8D%E4%BD%9C%E6%B5%81"><span class="toc-number">4.5.</span> <span class="toc-text">特殊操作流</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%B5%81"><span class="toc-number">4.5.1.</span> <span class="toc-text">标准输入输出流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8D%B0%E6%B5%81"><span class="toc-number">4.5.2.</span> <span class="toc-text">打印流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%BA%8F%E5%88%97%E5%8C%96%E6%B5%81"><span class="toc-number">4.5.3.</span> <span class="toc-text">对象序列化流</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%BA%8F%E5%88%97%E5%8C%96%E6%B5%81-1"><span class="toc-number">4.5.3.1.</span> <span class="toc-text">对象序列化流</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%BA%8F%E5%88%97%E5%8C%96%E6%B5%81-2"><span class="toc-number">4.5.3.2.</span> <span class="toc-text">对象序列化流</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E4%B8%AA%E9%97%AE%E9%A2%98"><span class="toc-number">4.5.3.3.</span> <span class="toc-text">三个问题</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Properties"><span class="toc-number">4.5.4.</span> <span class="toc-text">Properties</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%9C%E4%B8%BA%E9%9B%86%E5%90%88%E7%9A%84%E7%89%B9%E6%9C%89%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">4.5.4.1.</span> <span class="toc-text">作为集合的特有的方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8EIO%E6%B5%81%E7%BB%93%E5%90%88"><span class="toc-number">4.5.4.2.</span> <span class="toc-text">与IO流结合</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80"><span class="toc-number">5.</span> <span class="toc-text">多线程基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E5%A4%9A%E7%BA%BF%E7%A8%8B"><span class="toc-number">5.1.</span> <span class="toc-text">实现多线程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B"><span class="toc-number">5.1.1.</span> <span class="toc-text">进程和线程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%EF%BC%88%E4%B8%80%EF%BC%89"><span class="toc-number">5.1.2.</span> <span class="toc-text">多线程的实现方式（一）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%EF%BC%88%E4%BA%8C%EF%BC%89"><span class="toc-number">5.1.3.</span> <span class="toc-text">多线程的实现方式（二）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%EF%BC%88%E4%B8%89%EF%BC%89"><span class="toc-number">5.1.4.</span> <span class="toc-text">多线程的实现方式（三）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%92%8C%E8%8E%B7%E5%8F%96%E7%BA%BF%E7%A8%8B%E5%90%8D%E7%A7%B0"><span class="toc-number">5.1.5.</span> <span class="toc-text">设置和获取线程名称</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E8%B0%83%E5%BA%A6-%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">5.1.6.</span> <span class="toc-text">线程调度(优先级)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-number">5.1.7.</span> <span class="toc-text">线程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%81%9C%E6%AD%A2%E7%BA%BF%E7%A8%8B"><span class="toc-number">5.1.7.1.</span> <span class="toc-text">停止线程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E4%BC%91%E7%9C%A0"><span class="toc-number">5.1.7.2.</span> <span class="toc-text">线程休眠</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E7%A4%BC%E8%AE%A9"><span class="toc-number">5.1.7.3.</span> <span class="toc-text">线程礼让</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E5%BC%BA%E5%88%B6%E6%89%A7%E8%A1%8C"><span class="toc-number">5.1.7.4.</span> <span class="toc-text">线程强制执行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%88%E6%8A%A4%E7%BA%BF%E7%A8%8B"><span class="toc-number">5.1.7.5.</span> <span class="toc-text">守护线程</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">5.1.8.</span> <span class="toc-text">线程生命周期</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5"><span class="toc-number">5.2.</span> <span class="toc-text">线程同步</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%96%E7%A5%A8%E6%95%B0%E6%8D%AE%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98"><span class="toc-number">5.2.1.</span> <span class="toc-text">卖票数据安全问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E4%BB%A3%E7%A0%81%E5%9D%97%E5%92%8C%E5%90%8C%E6%AD%A5%E6%96%B9%E6%B3%95"><span class="toc-number">5.2.2.</span> <span class="toc-text">同步代码块和同步方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E4%BB%A3%E7%A0%81%E5%9D%97"><span class="toc-number">5.2.2.1.</span> <span class="toc-text">同步代码块</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E6%96%B9%E6%B3%95"><span class="toc-number">5.2.2.2.</span> <span class="toc-text">同步方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E7%9A%84%E7%B1%BB"><span class="toc-number">5.2.3.</span> <span class="toc-text">线程安全的类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#StringBuffer"><span class="toc-number">5.2.3.1.</span> <span class="toc-text">StringBuffer</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Vector"><span class="toc-number">5.2.3.2.</span> <span class="toc-text">Vector</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Hashtable"><span class="toc-number">5.2.3.3.</span> <span class="toc-text">Hashtable</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%BB%E9%94%81"><span class="toc-number">5.2.4.</span> <span class="toc-text">死锁</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lock%E9%94%81"><span class="toc-number">5.2.5.</span> <span class="toc-text">Lock锁</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#synchronized%E4%B8%8Elock%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-number">5.2.5.1.</span> <span class="toc-text">synchronized与lock的对比</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85"><span class="toc-number">5.3.</span> <span class="toc-text">生产者消费者</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E6%B1%A0"><span class="toc-number">5.4.</span> <span class="toc-text">线程池</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Lambda"><span class="toc-number">6.</span> <span class="toc-text">Lambda</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3"><span class="toc-number">6.1.</span> <span class="toc-text">函数式编程思想</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%93%E9%AA%8CLambda%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">6.2.</span> <span class="toc-text">体验Lambda表达式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E6%A0%87%E5%87%86%E6%A0%BC%E5%BC%8F"><span class="toc-number">6.3.</span> <span class="toc-text">Lambda表达式的标准格式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E7%BB%83%E4%B9%A0"><span class="toc-number">6.4.</span> <span class="toc-text">Lambda表达式的练习</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E7%9C%81%E7%95%A5%E6%A8%A1%E5%BC%8F"><span class="toc-number">6.5.</span> <span class="toc-text">Lambda表达式的省略模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">6.6.</span> <span class="toc-text">注意事项</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%92%8C%E5%8C%BF%E5%90%8D%E5%86%85%E9%83%A8%E7%B1%BB%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">6.7.</span> <span class="toc-text">Lambda表达式和匿名内部类的区别</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3%E5%92%8C%E5%8F%8D%E5%B0%84"><span class="toc-number">7.</span> <span class="toc-text">注解和反射</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84"><span class="toc-number">7.1.</span> <span class="toc-text">反射</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84%E6%A6%82%E8%BF%B0"><span class="toc-number">7.1.1.</span> <span class="toc-text">反射概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%8F%8D%E5%B0%84%E5%AF%B9%E8%B1%A1"><span class="toc-number">7.1.2.</span> <span class="toc-text">获取反射对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%80%E6%9C%89%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%8D%E5%B0%84%E5%AF%B9%E8%B1%A1"><span class="toc-number">7.1.3.</span> <span class="toc-text">所有类型的反射对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">7.1.4.</span> <span class="toc-text">类的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Class"><span class="toc-number">7.1.4.1.</span> <span class="toc-text">Class</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Constructor"><span class="toc-number">7.1.4.2.</span> <span class="toc-text">Constructor</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Field"><span class="toc-number">7.1.4.3.</span> <span class="toc-text">Field</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Method"><span class="toc-number">7.1.4.4.</span> <span class="toc-text">Method</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3"><span class="toc-number">7.2.</span> <span class="toc-text">注解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3%E8%AF%AD%E6%B3%95"><span class="toc-number">7.2.1.</span> <span class="toc-text">注解语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E6%B3%A8%E8%A7%A3"><span class="toc-number">7.2.2.</span> <span class="toc-text">元注解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-number">7.2.3.</span> <span class="toc-text">注解的属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%84%E7%BD%AE%E7%9A%84%E6%B3%A8%E8%A7%A3"><span class="toc-number">7.2.4.</span> <span class="toc-text">预置的注解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3%E7%9A%84%E8%A7%A3%E6%9E%90"><span class="toc-number">7.2.5.</span> <span class="toc-text">注解的解析</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8"><span class="toc-number">7.3.</span> <span class="toc-text">类加载器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%8A%A0%E8%BD%BD%E7%9A%84%E4%B8%89%E4%B8%AA%E9%98%B6%E6%AE%B5"><span class="toc-number">7.3.1.</span> <span class="toc-text">类加载的三个阶段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8-1"><span class="toc-number">7.3.2.</span> <span class="toc-text">类加载器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%8A%A0%E8%BD%BD%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="toc-number">7.3.3.</span> <span class="toc-text">类加载的过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%88%9D%E5%A7%8B%E5%8C%96%E7%9A%84%E6%AD%A5%E9%AA%A4"><span class="toc-number">7.3.4.</span> <span class="toc-text">类初始化的步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JVM%E4%B8%AD%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84"><span class="toc-number">7.3.5.</span> <span class="toc-text">JVM中类加载器的层次结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E6%9C%BA%E5%88%B6"><span class="toc-number">7.3.6.</span> <span class="toc-text">双亲委派机制</span></a></li></ol></li></ol></li></ol>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-Java进阶" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      Java进阶
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2022/01/06/Java%E8%BF%9B%E9%98%B6/" class="article-date">
	  <time datetime="2022-01-06T11:15:35.000Z" itemprop="datePublished">2022-01-06</time>
	</a>
</span>
        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </span>

        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA/" rel="tag">计算机</a>
  </span>


        

        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2022/01/06/Java%E8%BF%9B%E9%98%B6/#comments" class="article-comment-link">评论</a></span>
        
      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <h1 id="常用API"><a href="#常用API" class="headerlink" title="常用API"></a>常用API</h1><h2 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h2><p>1、Math包含执行基本数字运算的方法</p>
<p>2、Math没有构造方法，如何使用类中的成员呢？</p>
<ul>
<li>看类的成员是否都是静态的，如果是，通过类名就可以直接调用</li>
</ul>
<img src="https://img-blog.csdnimg.cn/20210312144420224.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />

<h2 id="System"><a href="#System" class="headerlink" title="System"></a>System</h2><p>System类包含几个有用的类字段和方法，它不能被实例化</p>
<img src="https://img-blog.csdnimg.cn/20210312144803924.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />

<h2 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h2><p>1、Object是类层次结构的根，每个类都可以将Object作为超类，所有类都直接或者间接的继承自Object</p>
<p>2、构造方法：    <code>public Object()</code></p>
<p>在面向对象中，为什么说子类的构造方法默认访问父类的无参构造方法？</p>
<ul>
<li>因为他们的顶级父类只有无参构造方法</li>
</ul>
<h3 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString()"></a>toString()</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//返回类的名字@实例的哈希码的16进制的字符串。建议Object所有的子类都重写这个方法。</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> getClass().getName() + <span class="string">&quot;@&quot;</span> + Integer.toHexString(hashCode());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="equals"><a href="#equals" class="headerlink" title="equals()"></a>equals()</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//用于比较2个对象的内存地址是否相等</span></span><br><span class="line"><span class="comment">//String类对该方法进行了重写用户比较字符串的值是否相等。</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">this</span> == obj);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h2><h3 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h3><p>1、排序：将一组数据按照固定的规则进行排列</p>
<p>2、冒泡排序：一种排序的方式，对要进行排序的数据中相邻的数据进行两两比较，将较大的数据放在后面，依次对所有的数据进行操作，直至所有数据按要求完成排序</p>
<ul>
<li>如果有n个数据进行排序，总共需要比较n-1次</li>
<li>每一次比较完毕，下一次的比较就会少一个数据参与</li>
</ul>
<p>3、动画演示：</p>
<p><img src="https://img-blog.csdnimg.cn/20210312160610180.gif" alt="在这里插入图片描述"></p>
<p>4、代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">main&#123;</span><br><span class="line">	<span class="comment">//定义一个数组</span></span><br><span class="line">	<span class="keyword">int</span>[] arr = &#123;<span class="number">24</span>,<span class="number">69</span>,<span class="number">80</span>,<span class="number">57</span>,<span class="number">13</span>&#125;;</span><br><span class="line">	System.out.println(arrayToString(arr));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//第一次比较</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;arr.length-<span class="number">1</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i] &gt; arr[i+<span class="number">1</span>])&#123;</span><br><span class="line">            <span class="keyword">int</span> temp = arr[i];</span><br><span class="line">            arr[i] = arr[i+<span class="number">1</span>];</span><br><span class="line">            arr[i+<span class="number">1</span>] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(arrayToString(arr));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//第二次比较</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;arr.length-<span class="number">1</span>-<span class="number">1</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i] &gt; arr[i+<span class="number">1</span>])&#123;</span><br><span class="line">            <span class="keyword">int</span> temp = arr[i];</span><br><span class="line">            arr[i] = arr[i+<span class="number">1</span>];</span><br><span class="line">            arr[i+<span class="number">1</span>] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(arrayToString(arr));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//第三次比较</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;arr.length-<span class="number">1</span>-<span class="number">2</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i] &gt; arr[i+<span class="number">1</span>])&#123;</span><br><span class="line">            <span class="keyword">int</span> temp = arr[i];</span><br><span class="line">            arr[i] = arr[i+<span class="number">1</span>];</span><br><span class="line">            arr[i+<span class="number">1</span>] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(arrayToString(arr));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//第四次比较</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;arr.length-<span class="number">1</span>-<span class="number">3</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i] &gt; arr[i+<span class="number">1</span>])&#123;</span><br><span class="line">            <span class="keyword">int</span> temp = arr[i];</span><br><span class="line">            arr[i] = arr[i+<span class="number">1</span>];</span><br><span class="line">            arr[i+<span class="number">1</span>] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(arrayToString(arr));</span><br><span class="line"></span><br><span class="line">	<span class="comment">//优化</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> x = <span class="number">0</span>;x &lt; arr.length-<span class="number">1</span>;x++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; arr.length-<span class="number">1</span>-x;i++)&#123;</span><br><span class="line">	        <span class="keyword">if</span>(arr[i] &gt; arr[i+<span class="number">1</span>])&#123;</span><br><span class="line">	            <span class="keyword">int</span> temp = arr[i];</span><br><span class="line">	            arr[i] = arr[i+<span class="number">1</span>];</span><br><span class="line">	            arr[i+<span class="number">1</span>] = temp;</span><br><span class="line">	        &#125;</span><br><span class="line">	    &#125;</span><br><span class="line">	&#125;</span><br><span class="line">	System.out.println(arrayToString(arr));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//把数组中的元素按照指定的规则组成一个字符串</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">arrayToString</span><span class="params">(<span class="keyword">int</span>[] arr)</span></span>&#123;</span><br><span class="line">	StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">	sb.append(<span class="string">&quot;[&quot;</span>);</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(i == arr.length-<span class="number">1</span>)&#123;</span><br><span class="line">			sb.append(arr[i]);</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			sb.append(arr[i]).append(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	sb.append(<span class="string">&quot;]&quot;</span>);</span><br><span class="line">	String s = sb.toString();</span><br><span class="line">	<span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>最终冒泡排序的代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//优化</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> x = <span class="number">0</span>;x &lt; arr.length-<span class="number">1</span>;x++)&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; arr.length-<span class="number">1</span>-x;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i] &gt; arr[i+<span class="number">1</span>])&#123;</span><br><span class="line">            <span class="keyword">int</span> temp = arr[i];</span><br><span class="line">            arr[i] = arr[i+<span class="number">1</span>];</span><br><span class="line">            arr[i+<span class="number">1</span>] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(arrayToString(arr));</span><br></pre></td></tr></table></figure>

<h3 id="Arrays类的概述和常用方法"><a href="#Arrays类的概述和常用方法" class="headerlink" title="Arrays类的概述和常用方法"></a>Arrays类的概述和常用方法</h3><p>Arrays类包含用于操作数组的各种方法</p>
<img src="https://img-blog.csdnimg.cn/20210312161152401.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// toString(int[] a)</span></span><br><span class="line"><span class="keyword">int</span>[] arr = &#123;<span class="number">24</span>,<span class="number">69</span>,<span class="number">80</span>,<span class="number">57</span>,<span class="number">13</span>&#125;;</span><br><span class="line">System.out.println(Arrays.toString(arr));</span><br><span class="line">Arrays.sort(arr);</span><br><span class="line">System.out.println(Arrays.toString(arr));</span><br></pre></td></tr></table></figure>

<p>输出:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">24</span>,<span class="number">69</span>,<span class="number">80</span>,<span class="number">57</span>,<span class="number">13</span>]</span><br><span class="line">[<span class="number">13</span>,<span class="number">24</span>,<span class="number">57</span>,<span class="number">69</span>,<span class="number">80</span>]</span><br></pre></td></tr></table></figure>

<p>有构造方法：<code>private Arrays()&#123;&#125;</code></p>
<p>工具类的设计思想：</p>
<ul>
<li>构造方法用<code>private</code>修饰</li>
<li>成员用<code>public</code> <code>static</code>修饰</li>
</ul>
<h2 id="基本类型包装类"><a href="#基本类型包装类" class="headerlink" title="基本类型包装类"></a>基本类型包装类</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>引入：</p>
<blockquote>
<p>需求：判断一个数据是否在int范围内</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(Integer.MIN_VALUE);</span><br><span class="line">System.out.println(Integer.MAX_VALUE);</span><br></pre></td></tr></table></figure>

<p><code>java.lang.Integer</code>继承于<code>java.lang.Number</code>继承于<code>java.lang.Object</code></p>
<p>1、将基本数据类型封装成对象的<span style="background: yellow;">好处</span>：可以在对象中定义更多的功能方法操作该数据</p>
<p>2、常用操作之一：用于基本数据类型与字符串之间的转换</p>
<h3 id="Integer类的概述和使用"><a href="#Integer类的概述和使用" class="headerlink" title="Integer类的概述和使用"></a>Integer类的概述和使用</h3><p>1、Integer：包装一个对象中的原始类型int的值</p>
<p>2、方法：</p>
<ul>
<li><code>public static Integer valueOf(int i)</code>：返回表示指定int值的Integer实例</li>
<li><code>public static Integer valueOf(String s)</code>：返回保存指定值的Integer对象String</li>
</ul>
<h3 id="int和String的相互转换"><a href="#int和String的相互转换" class="headerlink" title="int和String的相互转换"></a>int和String的相互转换</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> number = <span class="number">100</span>;</span><br><span class="line"><span class="comment">//int-&gt;string</span></span><br><span class="line">String s1 = <span class="string">&quot;&quot;</span> + number;</span><br><span class="line"><span class="comment">//int-&gt;string</span></span><br><span class="line">String s2 = String.valueOf(number);</span><br><span class="line"></span><br><span class="line">String s = <span class="string">&quot;100&quot;</span>;</span><br><span class="line"><span class="comment">//string-&gt;int</span></span><br><span class="line">Integer i = Integer.valueOf(s);</span><br><span class="line"><span class="keyword">int</span> i1 = i.intValue();</span><br><span class="line"><span class="comment">//string-&gt;int</span></span><br><span class="line"><span class="keyword">int</span> i2 = Integer.parseInt(s);</span><br></pre></td></tr></table></figure>

<p>1、int转为String</p>
<ul>
<li><code>public static String valueOf(int i)</code></li>
</ul>
<p>2、String转为int</p>
<ul>
<li><code>public static int parseInt(String s)</code></li>
</ul>
<h2 id="日期类"><a href="#日期类" class="headerlink" title="日期类"></a>日期类</h2><h3 id="Date类"><a href="#Date类" class="headerlink" title="Date类"></a>Date类</h3><p>Date代表特定的时间，精确到毫秒</p>
<p><code>public class Date extends Object implements Serializable,Cloneable,Comparable&lt;Date&gt;</code></p>
<p>1、构造方法：</p>
<ul>
<li><code>public Date()</code>：分配一个Date对象，并初始化，以便它代表它被分配的时间，精确到毫秒</li>
<li><code>public Date(long date)</code> 分配一个Date对象，将其初始化为从标准基准时间（January 1, 1970, 00:00:00 GMT.）起指定的毫秒数</li>
</ul>
<p>例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">main&#123;</span><br><span class="line">	<span class="comment">//public Date():分配一个Date对象，并初始化，以便它代表它被分配的时间，精确到毫秒</span></span><br><span class="line">	Date d1 = <span class="keyword">new</span> Date() <span class="comment">// Fri Mar 12 20:39:41 CST 2021</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//public Date(long date):分配一个Date对象，并将其初始化为从标准基准时间起指定的毫秒数</span></span><br><span class="line">	<span class="keyword">long</span> date = <span class="number">1000</span>*<span class="number">60</span>*<span class="number">60</span>;</span><br><span class="line">	Date d2 = <span class="keyword">new</span> Date(date);<span class="comment">// Thu Jan 01 09:00:00 CST 1970</span></span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2、常用方法</p>
<ul>
<li><code>public long getTime()</code>：获取日期对象从1970年1月1日0点到现在的毫秒值</li>
<li><code>public void setTime(long time)</code>：设置时间，给的是毫秒值</li>
</ul>
<p>例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">main&#123;</span><br><span class="line">	<span class="comment">//创建日期对象</span></span><br><span class="line">	Date d = <span class="keyword">new</span> Date();</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//public long getTime()</span></span><br><span class="line">	d.getTime(); <span class="comment">// 1615553049497毫秒</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//public void setTime(long time)</span></span><br><span class="line">	d.setTime(<span class="number">0</span>); <span class="comment">//Thu Jan 01 08:00:00 CST 1970 由于时区不一样，所以结果不一样</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="SimpleDateFormat类"><a href="#SimpleDateFormat类" class="headerlink" title="SimpleDateFormat类"></a>SimpleDateFormat类</h3><p><code>public class SimpleDateFormat extends DateFormat</code></p>
<p>1、SimpleDateFormat是一个具体类，用于以区域设置敏感的方式格式化和解析日期</p>
<p>2、常用的模式字母及对应关系：</p>
<ul>
<li>y    年</li>
<li>M    月</li>
<li>d    日</li>
<li>H    时</li>
<li>m    分</li>
<li>s    秒</li>
</ul>
<p>3、构造方法：</p>
<ul>
<li><code>public SimpleDateFormat()</code>：使用默认模式和日期格式</li>
<li><code>public SimpleDateFormat(String pattern)</code>：使用给的的模式和日期格式</li>
</ul>
<p>4、格式化和解析日期方法</p>
<ul>
<li>格式化（Date到String）：<code>public final String format(Date date)</code></li>
<li>解析（String到Date）：<code>public Date parse(String source)</code></li>
</ul>
<p>例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//格式化</span></span><br><span class="line">Date d = <span class="keyword">new</span> Date();</span><br><span class="line"></span><br><span class="line">SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat();</span><br><span class="line">String s = sdf.format(d);</span><br><span class="line">System.out.println(s); <span class="comment">//21-3-12 下午8:54</span></span><br><span class="line"></span><br><span class="line">SimpleDateFormat sdf1 = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd-HH-mm-ss&quot;</span>);</span><br><span class="line">String s = sdf1.format(d);</span><br><span class="line">System.out.println(s); <span class="comment">//2021-03-12-20-55-49</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//从String到Date</span></span><br><span class="line">String ss = <span class="string">&quot;2021-03-12-20-55-49&quot;</span>;</span><br><span class="line">SimpleDateFormat sdf2 = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd-HH-mm-ss&quot;</span>);</span><br><span class="line">Date dd = sdf2.parse(ss); <span class="comment">//这里需要处理异常 throws ParseException</span></span><br><span class="line">System.out.println(dd); <span class="comment">//Fri Mar 12 20:55:49 CST 2021</span></span><br></pre></td></tr></table></figure>

<h3 id="Calendar类"><a href="#Calendar类" class="headerlink" title="Calendar类"></a>Calendar类</h3><p>Calendar类为某一时刻和一组日历字段之间的转换提供了一些方法，并为操作日历字段提供了一些方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取对象</span></span><br><span class="line">Calendar c = Calendar.getInstance(); <span class="comment">//多态的形式</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//public int get(int field)</span></span><br><span class="line"><span class="keyword">int</span> year = c.get(Calendar.YEAR);</span><br><span class="line"><span class="keyword">int</span> month = c.get(Calendar.MONTH)+<span class="number">1</span>;<span class="comment">//从0开始的</span></span><br><span class="line"><span class="keyword">int</span> day = c.get(Calendar.DATE);</span><br></pre></td></tr></table></figure>

<p>1、常用方法：</p>
<ul>
<li><code>public int get(int field)</code>：返回给定日历字段的值</li>
<li><code>public abstract void add(int field,int amount)</code>：根据日历的规则，将指定的时间量添加或减去给定的日历字段</li>
<li><code>public final void set(int year,int month,int date)</code>：设置当前日历的年月日</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取对象</span></span><br><span class="line">Calendar c = Calendar.getInstance(); </span><br><span class="line"></span><br><span class="line"><span class="comment">//public abstract void add(int field,int amount)</span></span><br><span class="line">c.add(Calendar.YEAR,<span class="number">1</span>);<span class="comment">//年份+1</span></span><br><span class="line">System.out.println(c.get(Calendar.YEAR)); <span class="comment">// 2022</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//public final void set(int year,int month,int date)</span></span><br><span class="line">c.set(<span class="number">2020</span>,<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">int</span> year = c.get(Calendar.YEAR);</span><br><span class="line"><span class="keyword">int</span> month = c.get(Calendar.MONTH)+<span class="number">1</span>;<span class="comment">//从0开始的</span></span><br><span class="line"><span class="keyword">int</span> day = c.get(Calendar.DATE);</span><br><span class="line">System.out.println(year+<span class="string">&quot;-&quot;</span>+month+<span class="string">&quot;-&quot;</span>+day) <span class="comment">// 2020-2-1</span></span><br></pre></td></tr></table></figure>

<h1 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h1><h2 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h2><p>1、<code>Throwable</code>类是所有错误（<code>error</code>类）和异常（<code>exception</code>类）的超类</p>
<p>2、异常：就是程序出现了不正常的情况</p>
<p>3、异常体系</p>
<img src="https://img-blog.csdnimg.cn/20210314094454730.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />

<p><span style="background: yellow;">Error</span>：严重问题，不需要处理（<span style="background: yellow;">非检查型异常</span>）</p>
<p><span style="background: yellow;">Exception</span>：异常类，表示程序本身可以处理的问题</p>
<ul>
<li><strong>RuntimeException</strong>：编译期不检查，出现问题之后需要回来修改代码（<span style="background: yellow;">非检查型异常</span>）<br>包括：错误的强制类型转换、数组访问越界、访问null指针</li>
<li><strong>非RuntimeException</strong>：编译期必须处理，否则不能通过编译（<span style="background: yellow;">检查型异常</span>）<br>包括：试图超越文件末尾继续添加数据、试图打开一个不存在的文件、试图根据指定的字符串查找class对象，而这个类并不存在</li>
</ul>
<h2 id="JVM的默认处理方案"><a href="#JVM的默认处理方案" class="headerlink" title="JVM的默认处理方案"></a>JVM的默认处理方案</h2><p>如果程序出现了问题，我们没有做任何处理，最终JVM会做默认的处理：</p>
<ul>
<li>把异常的名称、原因、位置等信息输出在控制台</li>
<li>程序停止运行</li>
</ul>
<h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><p>两种方案：</p>
<ul>
<li>使用<code>try..catch..</code></li>
<li>使用<code>throws</code></li>
</ul>
<h3 id="捕获异常：try-catch"><a href="#捕获异常：try-catch" class="headerlink" title="捕获异常：try-catch"></a>捕获异常：try-catch</h3><p>格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">	可能出现的代码</span><br><span class="line">&#125;<span class="keyword">catch</span>(异常类名 变量名)&#123;</span><br><span class="line">	异常处理</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">执行流程：</span><br><span class="line"><span class="number">1</span>、程序从<span class="keyword">try</span>里面的代码开始执行</span><br><span class="line"><span class="number">2</span>、出现异常，会自动生成一个异常类对象，该异常类对象将被提交给Java运行系统</span><br><span class="line"><span class="number">3</span>、当java运行时，吸引接收到异常对象，回到<span class="keyword">catch</span>中去找匹配的异常对象，找到后进行异常的处理</span><br><span class="line"><span class="number">4</span>、执行完毕后，程序还可以继续往下执行</span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">	<span class="keyword">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">	System.out.println(arr[<span class="number">3</span>]);</span><br><span class="line">&#125;<span class="keyword">catch</span>(ArrayIndexOutOfBoundsException e)&#123;</span><br><span class="line">	e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Throwable成员方法"><a href="#Throwable成员方法" class="headerlink" title="Throwable成员方法"></a>Throwable成员方法</h3><p>1、<code>public String getMessage()</code>：返回此throwable的详细消息字符串</p>
<p>2、<code>public String toString()</code>：返回此可抛出的简短描述</p>
<p>3、<code>public void printStackTrace()</code>：把异常的错误信息输出在控制台</p>
<h4 id="getMessage"><a href="#getMessage" class="headerlink" title="getMessage()"></a>getMessage()</h4><p>源代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Throwable</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String detailMessage;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Throwable</span><span class="params">(String message)</span></span>&#123;</span><br><span class="line">		detailMessage = message;</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMessage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> detailMessage;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">    System.out.println(arr[<span class="number">10</span>]);</span><br><span class="line">&#125;<span class="keyword">catch</span>(ArrayIndexOutOfBoundsException e)&#123;</span><br><span class="line">    System.out.println(e.getMessage());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="toString"><a href="#toString" class="headerlink" title="toString()"></a>toString()</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">    System.out.println(arr[<span class="number">10</span>]);</span><br><span class="line">&#125;<span class="keyword">catch</span>(ArrayIndexOutOfBoundsException e)&#123;</span><br><span class="line">    System.out.println(e.toString());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">输出：java.lang.ArrayIndexOutOfBoundsException: <span class="number">10</span></span><br></pre></td></tr></table></figure>

<h4 id="printStackTrace"><a href="#printStackTrace" class="headerlink" title="printStackTrace()"></a>printStackTrace()</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">	<span class="keyword">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">	System.out.println(arr[<span class="number">10</span>]);</span><br><span class="line">&#125;<span class="keyword">catch</span>(ArrayIndexOutOfBoundsException e)&#123;</span><br><span class="line">	e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">输出:</span><br><span class="line">java.lang.ArrayIndexOutOfBoundsException: <span class="number">10</span></span><br><span class="line">	at Test.main(Test.java:<span class="number">13</span>)</span><br></pre></td></tr></table></figure>

<h3 id="抛出异常：throws"><a href="#抛出异常：throws" class="headerlink" title="抛出异常：throws"></a>抛出异常：throws</h3><p>格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throws</span> 异常类名</span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//运行时异常</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span><span class="keyword">throws</span> ArrayIndexOutOfBoundsException</span>&#123;</span><br><span class="line">	<span class="keyword">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">	System.out.println(arr[<span class="number">3</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译时异常</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span>thorws ParseException</span>&#123;</span><br><span class="line">	String s = <span class="string">&quot;2020-01-01&quot;</span>;</span><br><span class="line">	SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd&quot;</span>);</span><br><span class="line">	Date d = sdf.parse(s);</span><br><span class="line">	System.out.println(d);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main&#123;</span><br><span class="line">	method();<span class="comment">//不能往下运行</span></span><br><span class="line">	method2();<span class="comment">//使用try-catch即可往下运行</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<ul>
<li><code>编译时异常</code>必须要处理，有两种方案：try-catch或者throws，如果采用throws，将来谁调用谁处理</li>
<li><code>运行时异常</code>可以不处理，出现问题后需要修改代码</li>
</ul>
<h2 id="自定义异常"><a href="#自定义异常" class="headerlink" title="自定义异常"></a>自定义异常</h2><p>格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> 异常类名 <span class="keyword">extends</span> <span class="title">Exception</span></span>&#123;</span><br><span class="line">	无参构造</span><br><span class="line">	带参构造</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">scoreException</span> <span class="keyword">extends</span> <span class="title">Exception</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">scoreException</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">scoreException</span><span class="params">(String message)</span></span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(message);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">teacher</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> score)</span><span class="keyword">throws</span> scoreException</span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(score&lt;<span class="number">0</span>||score&gt;<span class="number">100</span>)&#123;</span><br><span class="line">			<span class="comment">//抛出异常</span></span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> scoreException(<span class="string">&quot;error&quot;</span>);</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;normal&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="throws和throw的区别"><a href="#throws和throw的区别" class="headerlink" title="throws和throw的区别"></a>throws和throw的区别</h3><p>1、throws：</p>
<ul>
<li>用在方法声明后面，跟的是异常类名</li>
<li>表示抛出异常，由该方法的调用者处理</li>
<li>表示出现异常的一种可能性，并不一定会发生这些异常</li>
</ul>
<p>2、throw：</p>
<ul>
<li>用在方法体内，跟的是异常对象名</li>
<li>表示抛出异常，由方法体内的语句处理</li>
<li>执行throw一定抛出了某种异常</li>
</ul>
<h2 id="finally子句"><a href="#finally子句" class="headerlink" title="finally子句"></a>finally子句</h2><blockquote>
<p>代码抛出一个异常后，就会停止处理这个方法中剩余的代码，并退出这个方法；如果这个方法已经获取了一些本地资源，而且这些资源必须处理，这就会存在问题。</p>
</blockquote>
<p>不管是否有异常被捕获，<code>finally</code>子句中的代码都会执行。</p>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> in = <span class="keyword">new</span> FileInputStream(...);</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">//1</span></span><br><span class="line">导致异常的执行代码</span><br><span class="line"><span class="comment">//2</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(IOexception e)&#123;</span><br><span class="line"><span class="comment">//3</span></span><br><span class="line">show error message</span><br><span class="line"><span class="comment">//4</span></span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line"><span class="comment">//5</span></span><br><span class="line">in.close();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//6</span></span><br></pre></td></tr></table></figure>

<p>有三种情况会执行finally子句：</p>
<ol>
<li>代码没有抛出异常，1、2、5、6</li>
<li>代码抛出一个异常，并在<code>catch</code>中捕获。如果catch中没有抛出异常，程序将会执行<code>finally</code>子句之后的第一条语句（1、3、4、5、6）；如果抛出异常了，异常被抛回这个方法的调用者（1、3、5）</li>
<li>代码抛出了一个异常，但没有<code>catch</code>子句捕获这个异常，（1、5）</li>
</ol>
<p>在以下 3 种特殊情况下，<code>finally</code> 块不会被执行：</p>
<ol>
<li>在 <code>try</code> 或 <code>finally</code> 块中用了 <code>System.exit(int)</code>退出程序。但是，如果 <code>System.exit(int)</code> 在异常语句之后，<code>finally </code>还是会被执行</li>
<li>程序所在的线程死亡。</li>
<li>关闭 CPU。</li>
</ol>
<p>注意： 当 <code>try </code>语句和 <code>finally</code> 语句中都有 <code>return</code> 语句时，在方法返回之前，<code>finally</code> 语句的内容将被执行，并且 <code>finally</code> 语句的返回值将会覆盖原始的返回值。</p>
<h2 id="try-with-resources"><a href="#try-with-resources" class="headerlink" title="try-with-resources"></a>try-with-resources</h2><p>格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>(Resource res=...)&#123;</span><br><span class="line">	work with res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>try</code>退出时，会自动调用<code>res.close()</code></p>
<p>1、适用范围（资源的定义）： 任何实现 <code>java.lang.AutoCloseable</code>或者 <code>java.io.Closeable</code> 的对象，即&#x3D;&#x3D;需要关闭资源&#x3D;&#x3D;</p>
<blockquote>
<p>面对必须要关闭的资源，我们总是应该优先使用 try-with-resources<br>而不是try-finally。随之产生的代码更简短，更清晰，产生的异常对我们也更有用。try-with-resources语句让我们更容易编写必须要关闭的资源的代码，若采用try-finally则几乎做不到这点。</p>
</blockquote>
<p>Java 中类似于<code>InputStream</code>、<code>OutputStream</code> 、<code>Scanner</code> 、<code>PrintWriter</code>等的资源都需要我们调用<code>close()</code>方法来手动关闭，一般情况下我们都是通过<code>try-catch-finally</code>语句来实现这个需求，如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//读取文本文件的内容</span></span><br><span class="line">   Scanner scanner = <span class="keyword">null</span>;</span><br><span class="line">   <span class="keyword">try</span> &#123;</span><br><span class="line">       scanner = <span class="keyword">new</span> Scanner(<span class="keyword">new</span> File(<span class="string">&quot;D://read.txt&quot;</span>));</span><br><span class="line">       <span class="keyword">while</span> (scanner.hasNext()) &#123;</span><br><span class="line">           System.out.println(scanner.nextLine());</span><br><span class="line">       &#125;</span><br><span class="line">   &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">       e.printStackTrace();</span><br><span class="line">   &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">       <span class="keyword">if</span> (scanner != <span class="keyword">null</span>) &#123;</span><br><span class="line">           scanner.close();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>使用 Java 7 之后的 <code>try-with-resources</code> 语句改造上面的代码:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> (Scanner scanner = <span class="keyword">new</span> Scanner(<span class="keyword">new</span> File(<span class="string">&quot;test.txt&quot;</span>))) &#123;</span><br><span class="line">    <span class="keyword">while</span> (scanner.hasNext()) &#123;</span><br><span class="line">        System.out.println(scanner.nextLine());</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (FileNotFoundException fnfe) &#123;</span><br><span class="line">    fnfe.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当然多个资源需要关闭的时候，使用 <code>try-with-resources </code>实现起来也非常简单，如果你还是用<code>try-catch-finally</code>可能会带来很多问题。</p>
<p>通过使用分号分隔，可以在<code>try-with-resources</code>块中声明多个资源。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> (</span><br><span class="line">BufferedInputStream bin = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(<span class="keyword">new</span> File(<span class="string">&quot;test.txt&quot;</span>)));</span><br><span class="line">BufferedOutputStream bout = <span class="keyword">new</span> BufferedOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="keyword">new</span> File(<span class="string">&quot;out.txt&quot;</span>)))) </span><br><span class="line">&#123;</span><br><span class="line">            <span class="keyword">int</span> b;</span><br><span class="line">            <span class="keyword">while</span> ((b = bin.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">                bout.write(b);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>try-with-resource语句自身也可以有catch，甚至可以有finally，这些子句会在关闭资源之后执行</p>
</blockquote>
<h1 id="集合进阶"><a href="#集合进阶" class="headerlink" title="集合进阶"></a>集合进阶</h1><h2 id="集合概述"><a href="#集合概述" class="headerlink" title="集合概述"></a>集合概述</h2><p>1、概念：对象的容器，实现了对对象常用的操作，类似数组功能</p>
<p>2、集合类的特点：提供一种存储空间可变的存储模型，存储的数据容量可以发生改变</p>
<p>3、和数组的区别：</p>
<ul>
<li>数组长度固定，集合长度不固定</li>
<li>数组可以存储基本类型和引用类型，集合只能存储引用类型（<strong>装箱操作</strong>）</li>
</ul>
<p>4、位置：<strong>java.util.</strong>*</p>
<p><img src="https://img-blog.csdnimg.cn/20210314105057426.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h2 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h2><h3 id="概述和使用"><a href="#概述和使用" class="headerlink" title="概述和使用"></a>概述和使用</h3><p>1、概述</p>
<ul>
<li>单列集合的顶层接口，表示一组对象，这些对象称为Collection的元素</li>
<li>JDK不提供此接口的任何直接实现，它提供更具体的子接口（set和list）实现</li>
</ul>
<p>2、创建Collection集合的对象</p>
<ul>
<li><span style="background: yellow;">多态</span>的方式</li>
<li>具体的实现类ArrayList</li>
</ul>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">main&#123;</span><br><span class="line">	<span class="comment">//创建Collection集合的对象</span></span><br><span class="line">	Collection&lt;String&gt; c = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//添加元素:boolean add(E e)</span></span><br><span class="line">	c.add(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">	c.add(<span class="string">&quot;world&quot;</span>)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//输出集合对象</span></span><br><span class="line">	System.out.println(c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h3><p>1、<code>boolean add(E e)</code>：添加元素，永远返回true</p>
<p>2、<code>boolean remove(Object o)</code>：从集合中移除指定的元素</p>
<p>3、<code>void clear()</code>：清空集合中的元素</p>
<p>4、<code>boolean contains(Object o)</code>：判断集合中是否存在指定元素</p>
<p>5、<code>boolean isEmpty()</code>：判断集合是否为空</p>
<p>6、<code>int size()</code>：集合的长度</p>
<h3 id="使用Iterator迭代器遍历"><a href="#使用Iterator迭代器遍历" class="headerlink" title="使用Iterator迭代器遍历"></a>使用Iterator迭代器遍历</h3><p>1、<code>Iterator</code>：迭代器，集合的专用遍历方式</p>
<ul>
<li><code>Iterator&lt;E&gt; iterator()</code>：返回此集合中元素的迭代器，通过集合的iterator()方法得到</li>
<li>迭代器是通过集合的方法得到的，<span style="background: yellow;">所以说它是依赖于集合存在的</span></li>
</ul>
<p>2、<code>Iterator</code>中的常用方法：</p>
<ul>
<li><code>E next()</code>：返回迭代的下一个元素</li>
<li><code>boolean hasNext()</code>：如果迭代具有更多元素，则返回true</li>
</ul>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">Collection&lt;String&gt; c = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">c.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">c.add(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">c.add(<span class="string">&quot;c&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//生成迭代器</span></span><br><span class="line">Iterator&lt;String&gt; it = c.iterator();</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	//iterator方法</span></span><br><span class="line"><span class="comment">	 public Iterator&lt;E&gt; iterator() &#123;</span></span><br><span class="line"><span class="comment">        return new Itr();</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">	//Itr:内部类</span></span><br><span class="line"><span class="comment">	private class Itr implements Iterator&lt;E&gt;&#123;....&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">//next：返回迭代的下一个元素</span></span><br><span class="line">System.out.println(it.next());<span class="comment">//a</span></span><br><span class="line">System.out.println(it.next());<span class="comment">//b</span></span><br><span class="line">System.out.println(it.next());<span class="comment">//c</span></span><br><span class="line">System.out.println(it.next());<span class="comment">//多调用会抛出异常NoSuchElementException，表示被请求的元素不存在</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//优化：hasNext(),多次调用不会抛出异常</span></span><br><span class="line"><span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">	System.out.println(it.next());</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="集合的使用步骤"><a href="#集合的使用步骤" class="headerlink" title="集合的使用步骤"></a>集合的使用步骤</h3><img src="https://img-blog.csdnimg.cn/20210314124007333.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />

<p>步骤：</p>
<ul>
<li>创建集合对象</li>
<li>添加元素</li>
<li>遍历集合<ul>
<li>通过集合对象获取迭代器对象</li>
<li>通过迭代器对象的hasNext()方法判断是否还有元素</li>
<li>通过迭代器对象的next()方法获取下一个元素</li>
</ul>
</li>
</ul>
<h2 id="List"><a href="#List" class="headerlink" title="List"></a>List</h2><h3 id="概述和特点"><a href="#概述和特点" class="headerlink" title="概述和特点"></a>概述和特点</h3><p>概述：</p>
<ul>
<li>有序集合（也称为序列），用户可以精确控制列表中每个元素的插入位置，用户可以通过整数索引访问元素，并搜索列表中的元素</li>
<li>与set集合不同，列表通常允许重复的元素</li>
</ul>
<p>特点：</p>
<ul>
<li>有序：存储和取出的元素顺序一致</li>
<li>可重复：存储的元素可以重复</li>
</ul>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建集合对象</span></span><br><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"><span class="comment">//添加元素</span></span><br><span class="line">list.add(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;3&quot;</span>);</span><br><span class="line"><span class="comment">//输出集合对象</span></span><br><span class="line">System.out.println(list)<span class="comment">//[1,2,3,3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历集合</span></span><br><span class="line">Iterator&lt;String&gt; iterator = list.iterator();</span><br><span class="line"><span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">	System.out.println(iterator.next());</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//1 2 3 3</span></span><br></pre></td></tr></table></figure>

<h3 id="list集合的特有方法"><a href="#list集合的特有方法" class="headerlink" title="list集合的特有方法"></a>list集合的特有方法</h3><p>1、<code>void add(int index,Element)</code>：插入指定位置的元素</p>
<p>2、<code>E remove(int index)</code>：删除指定索引处的元素，返回被删除的元素</p>
<p>3、<code>E set(int index,E element)</code>：修改指定索引处的元素，返回被修改的元素</p>
<p>4、<code>E get(int index)</code>：返回指定索引处的元素</p>
<h3 id="并发修改异常"><a href="#并发修改异常" class="headerlink" title="并发修改异常"></a>并发修改异常</h3><blockquote>
<p>需求：有一个集合list，里面三个元素：hello、world、java，遍历集合得到每一个元素，看看有没有world，如果有就添加一个javaee元素</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"></span><br><span class="line">list.add(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;world&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;java&quot;</span>);</span><br><span class="line"></span><br><span class="line">Iterator&lt;String&gt; it = list.iterator();</span><br><span class="line"><span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">	String s = it.next();</span><br><span class="line">	<span class="keyword">if</span>(s.equals(<span class="string">&quot;world&quot;</span>))&#123;</span><br><span class="line">		list.add(<span class="string">&quot;javaee&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>1、结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">报错：Exception in thread <span class="string">&quot;main&quot;</span> java.util.ConcurrentModificationException</span><br></pre></td></tr></table></figure>

<p>2、源码分析：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt;</span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span></span>;</span><br><span class="line">	<span class="function">Iterator&lt;E&gt; <span class="title">iterator</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractList</span>&lt;<span class="title">E</span>&gt;</span>&#123;</span><br><span class="line">	<span class="keyword">int</span> modCount = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayList</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractList</span>&lt;<span class="title">E</span>&gt; <span class="keyword">implements</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt;</span>&#123;</span><br><span class="line">  <span class="comment">//获取迭代器</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Iterator&lt;E&gt; <span class="title">iterator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Itr();</span><br><span class="line">  &#125;</span><br><span class="line">    </span><br><span class="line">  <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Itr</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">//光标 默认0</span></span><br><span class="line">    <span class="keyword">int</span> cursor;      </span><br><span class="line">    <span class="comment">//记录 -1</span></span><br><span class="line">    <span class="keyword">int</span> lastRet = -<span class="number">1</span>; </span><br><span class="line">    <span class="comment">//将集合实际修改次数赋值给预期修改次数</span></span><br><span class="line">    <span class="keyword">int</span> expectedModCount = modCount;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//判断集合是否有元素</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> cursor != size;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//获取下一个元素</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      checkForComodification();</span><br><span class="line">      <span class="comment">//将光标赋值给i</span></span><br><span class="line">      <span class="keyword">int</span> i = cursor;</span><br><span class="line">      <span class="comment">//判断，如果大于size说明没有元素了</span></span><br><span class="line">      <span class="keyword">if</span> (i &gt;= size)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();</span><br><span class="line">      <span class="comment">//把集合存储数组的地址复制给该方法的局部变量</span></span><br><span class="line">      Object[] elementData = ArrayList.<span class="keyword">this</span>.elementData;</span><br><span class="line">      <span class="comment">//进行判断，条件满足抛出并发修改异常</span></span><br><span class="line">      <span class="keyword">if</span> (i &gt;= elementData.length)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> ConcurrentModificationException();</span><br><span class="line">      <span class="comment">//光标自增</span></span><br><span class="line">      cursor = i + <span class="number">1</span>;</span><br><span class="line">      <span class="comment">//返回局部变量数组的元素</span></span><br><span class="line">      <span class="keyword">return</span> (E) elementData[lastRet = i];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//校验预期修改次数和实际修改次数是否一致</span></span><br><span class="line">    <span class="function"><span class="keyword">final</span> <span class="keyword">void</span> <span class="title">checkForComodification</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (modCount != expectedModCount)</span><br><span class="line">        <span class="comment">//抛出并发修改异常</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> ConcurrentModificationException();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">  &#125;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>分析：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">报错行：String s = it.next();</span><br><span class="line"></span><br><span class="line">由于ArrayList的内部类Itr的next方法中首先调用了checkForComodification方法，而这个方法中如果modCount不等于expectedModCount的话就会抛出异常；</span><br><span class="line"></span><br><span class="line">在add操作中，会在ensureExplicitCapacity方法中对modCount进行++，因此，modeCount不等于expectedModCount了，所以会抛出异常</span><br></pre></td></tr></table></figure>

<p><strong>结论</strong>：</p>
<ul>
<li><strong>当要删除的元素在集合的倒数第二个元素的位置，不会发生并发修改异常</strong><ul>
<li>原因：调用hasnext方法时，光标的值和集合的长度一样，就会返回false，因此不会再去调用next方法，不会产生并发修改异常</li>
</ul>
</li>
</ul>
<p><strong>解决方案：使用Itr的remove方法即可</strong></p>
<h3 id="listIterator列表迭代器"><a href="#listIterator列表迭代器" class="headerlink" title="listIterator列表迭代器"></a>listIterator列表迭代器</h3><p>1、通过list集合的<code>listIterator()</code>方法得到，所以说它是list集合特有的迭代器</p>
<p>2、用于允许程序员沿<span style="background: yellow;">任一方向遍历</span>列表的列表迭代器，<span style="background: yellow;">在迭代期间修改列表</span>，并获取列表中迭代器的当前位置</p>
<p>3、常用方法：</p>
<ul>
<li><code>E next()</code>：返回迭代中的下一个元素</li>
<li><code>boolean hasNext()</code></li>
<li><code>E previous()</code>：返回迭代中的上一个元素</li>
<li><code>boolean hasPrevious()</code>：如果此列表迭代器在相反方向遍历列表时具有更多元素，则返回true</li>
<li><code>void add(E e)</code>：插入列表</li>
</ul>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"></span><br><span class="line">list.add(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;3&quot;</span>);</span><br><span class="line"></span><br><span class="line">ListIterator&lt;String&gt; lit = list.listIterator();</span><br><span class="line"><span class="comment">//正向迭代</span></span><br><span class="line"><span class="keyword">while</span>(lit.hasNext())&#123;</span><br><span class="line">	System.out.println(lit.next());</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//逆向迭代</span></span><br><span class="line"><span class="keyword">while</span>(lit.hasPrevious())&#123;</span><br><span class="line">	System.out.println(lit.previous());</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//增加元素</span></span><br><span class="line"><span class="keyword">while</span>(lit.hasNext())&#123;</span><br><span class="line">	String s = lit.next();</span><br><span class="line">	<span class="keyword">if</span>(s.eauals(<span class="string">&quot;world&quot;</span>))&#123;</span><br><span class="line">		lit.add(<span class="string">&quot;javaee&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><span style="background: yellow;">注意：这里使用迭代器添加元素，不会报错～～</span></p>
<h4 id="源码分析"><a href="#源码分析" class="headerlink" title="源码分析"></a>源码分析</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt;</span>&#123;</span><br><span class="line">	<span class="function">ListIterator&lt;E&gt; <span class="title">listIterator</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayList</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractList</span>&lt;<span class="title">E</span>&gt; <span class="keyword">implements</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt;</span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> ListIterator&lt;E&gt; <span class="title">listIterator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ListItr(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//Itr</span></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Itr</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">E</span>&gt; </span>&#123;....&#125;</span><br><span class="line">    <span class="comment">//ListItr</span></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">ListItr</span> <span class="keyword">extends</span> <span class="title">Itr</span> <span class="keyword">implements</span> <span class="title">ListIterator</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">            checkForComodification();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">int</span> i = cursor;</span><br><span class="line">                ArrayList.<span class="keyword">this</span>.add(i, e);</span><br><span class="line">                cursor = i + <span class="number">1</span>;</span><br><span class="line">                lastRet = -<span class="number">1</span>;</span><br><span class="line">                <span class="comment">//实际修改值赋值给预期修改值！！！！</span></span><br><span class="line">                expectedModCount = modCount;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IndexOutOfBoundsException ex) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> ConcurrentModificationException();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>不会出现并发修改异常的原因：重写了add方法，添加了<code>expectedModCount = modCount;</code></p>
<h3 id="增强for循环"><a href="#增强for循环" class="headerlink" title="增强for循环"></a>增强for循环</h3><p>简化数组和Collection集合的遍历</p>
<ul>
<li>实现Iterable接口的实现类，允许其对象称为增强for语句的目标</li>
<li>是JDK5之后出现的，内部原理是一个<span style="background: yellow;">Iterator迭代器</span></li>
</ul>
<p>格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(元素数据类型 变量名 : 数组或者Collection集合)&#123;...&#125;</span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"></span><br><span class="line">list.add(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;3&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(String s : list)&#123;</span><br><span class="line">	System.out.println(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h3><p>数据结构是计算机存储、组织数据的方式，是指相互之间一种或多种特定关系的数据元素的集合，通常情况下精心挑选的数据结构可以带来更高的效率</p>
<h4 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h4><p>1、结构：</p>
<img src="https://img-blog.csdnimg.cn/20210314140333978.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />

<p>2、压栈操作</p>
<p>压栈顺序：A、B、C、D<br><img src="https://img-blog.csdnimg.cn/20210314140425814.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" /></p>
<p>3、出栈</p>
<p>出栈顺序：D、C、B、A</p>
<p><span style="background: yellow;">先进后出</span></p>
<h4 id="队列"><a href="#队列" class="headerlink" title="队列"></a>队列</h4><p>1、结构</p>
<img src="https://img-blog.csdnimg.cn/20210314140601387.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />

<p>2、入队列：从后端进入队列</p>
<img src="https://img-blog.csdnimg.cn/2021031414063784.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />

<p>3、出队列：从前端出队列</p>
<img src="https://img-blog.csdnimg.cn/2021031414071019.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />

<p><span style="background: yellow;">先进先出</span></p>
<h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><p>1、结构</p>
<img src="https://img-blog.csdnimg.cn/20210314140838568.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />

<p>2、查询数据通过索引定位，查询任意数据耗时相同，<span style="background: yellow;">查询效率高</span></p>
<p>3、删除数据时，要将原始数据删除，同时后面的每个数据后移，<span style="background: yellow;">删除效率低</span></p>
<p>4、添加数据时，添加位置后的每个数据后移，再添加元素，<span style="background: yellow;">添加效率低</span></p>
<h4 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h4><p>1、结点的结构：</p>
<img src="https://img-blog.csdnimg.cn/20210314141058999.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />

<p>2、结构：</p>
<img src="https://img-blog.csdnimg.cn/20210314141251490.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />


<p>3、在链表中添加数据</p>
<img src="https://img-blog.csdnimg.cn/20210314141317146.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />

<p>4、删除数据</p>
<img src="https://img-blog.csdnimg.cn/20210314141357535.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />

<p><span style="background: yellow;">链表是一个增加、删除快的模型（对比数组）</span></p>
<p>5、查询数据必须要从头开始查询，<span style="background: yellow;">所以是一种查询慢的模型（对比数组）</span></p>
<h3 id="list集合子类的特点"><a href="#list集合子类的特点" class="headerlink" title="list集合子类的特点"></a>list集合子类的特点</h3><p>list集合常用子类：ArrayList、LinkedList</p>
<ul>
<li>ArrayList：底层数据结构是<strong>数组</strong>，查询慢，增删慢</li>
<li>LinkedList：底层数据结构是<strong>链表</strong>，查询慢，增删快</li>
</ul>
<p><strong>LinkedList：</strong></p>
<p>1、<code>public void addFirst(E e)</code>：在该链表开头插入指定元素</p>
<p>2、<code>public void addLast(E e)</code>：在指定元素追加到此链表结尾</p>
<p>3、<code>public E getFirst()</code>：返回第一个元素</p>
<p>4、<code>public E getLast()</code>：返回最后一个元素</p>
<p>5、<code>public E removeFirst()</code>：删除并返回第一个元素</p>
<p>6、<code>public E removeLast()</code>：删除并返回最后一个元素</p>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">LinkedList&lt;String&gt; l = <span class="keyword">new</span> LinkedList&lt;String&gt;();</span><br><span class="line"></span><br><span class="line">l.add(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">l.add(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">l.add(<span class="string">&quot;2&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//public void addFirst(E e)</span></span><br><span class="line">l.addFirst(<span class="string">&quot;3&quot;</span>)</span><br><span class="line">System.out.println(l);<span class="comment">//[3,0,1,2]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//public void addLast(E e)</span></span><br><span class="line">l.addLast(<span class="string">&quot;4&quot;</span>)</span><br><span class="line">System.out.println(l);<span class="comment">//[3,0,1,2,4]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//public E getFirst()</span></span><br><span class="line">l.getFirst();<span class="comment">//3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//public E getLast()</span></span><br><span class="line">l.getLast();<span class="comment">//4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//public E removeFirst()</span></span><br><span class="line">l.removeFirst();<span class="comment">//3</span></span><br><span class="line">System.out.println(l);<span class="comment">//[0,1,2,4]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// public E removeLast()</span></span><br><span class="line">l.removeLast();<span class="comment">//4</span></span><br><span class="line">System.out.println(l);<span class="comment">//[0,1,2]</span></span><br></pre></td></tr></table></figure>

<h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><h3 id="概述和特点-1"><a href="#概述和特点-1" class="headerlink" title="概述和特点"></a>概述和特点</h3><p>1、特点</p>
<ul>
<li>不包含重复元素</li>
<li>没有索引，不能使用普通的for循环遍历</li>
</ul>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">需求：存储字符串并遍历</span><br><span class="line"></span><br><span class="line">Set&lt;String&gt; s = <span class="keyword">new</span> HashSet&lt;String&gt;();</span><br><span class="line"></span><br><span class="line">s.add(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">s.add(<span class="string">&quot;java&quot;</span>);</span><br><span class="line">s.add(<span class="string">&quot;world&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//增强for</span></span><br><span class="line"><span class="keyword">for</span>(String i:s)&#123;</span><br><span class="line">	System.out.println(i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//输出结果</span></span><br><span class="line">java</span><br><span class="line">world</span><br><span class="line">hello</span><br></pre></td></tr></table></figure>

<h3 id="哈希值"><a href="#哈希值" class="headerlink" title="哈希值"></a>哈希值</h3><p>哈希值：JDK根据对象的<span style="background: yellow;">地址</span>或者<span style="background: yellow;">字符串</span>或者<span style="background: yellow;">数字</span>算出来的<span style="background: yellow;">int类型数值</span></p>
<p>Object类中的<code>public int hashCode()</code>方法可以获取对象的哈希值</p>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">student</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main&#123;</span><br><span class="line">	<span class="comment">//创建学生对象</span></span><br><span class="line">	student s = <span class="keyword">new</span> student(<span class="string">&quot;a&quot;</span>,<span class="number">10</span>);</span><br><span class="line">	<span class="comment">//同一个对象的哈希值相同</span></span><br><span class="line">	System.out.println(s.hashCode());</span><br><span class="line"></span><br><span class="line">	<span class="comment">//默认情况下（不重写hashCode()方法的情况下），不同对象的哈希值不同</span></span><br><span class="line">	student s1 = <span class="keyword">new</span> student(<span class="string">&quot;a&quot;</span>,<span class="number">10</span>);</span><br><span class="line">	System.out.println(s1.hashCode());</span><br><span class="line"></span><br><span class="line">	System.out.println(<span class="string">&quot;a&quot;</span>.hashCode());<span class="comment">//97</span></span><br><span class="line">	System.out.println(<span class="string">&quot;b&quot;</span>.hashCode());<span class="comment">//98</span></span><br><span class="line">	System.out.println(<span class="string">&quot;c&quot;</span>.hashCode());<span class="comment">//99</span></span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">&quot;重地&quot;</span>.hashCode());<span class="comment">//1179395</span></span><br><span class="line">    System.out.println(<span class="string">&quot;通话&quot;</span>.hashCode());<span class="comment">//1179395</span></span><br></pre></td></tr></table></figure>

<p>对象的哈希值的特点：</p>
<ul>
<li>同一对象多次调用hashCode()方法返回的哈希值相同</li>
<li>默认情况下，不同对象的哈希值不同</li>
</ul>
<h3 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet"></a>HashSet</h3><p>HashSet集合特点</p>
<ul>
<li>底层数据结构是<span style="background: yellow;">哈希表</span></li>
<li>对集合的迭代顺序不保证</li>
<li>不带索引</li>
<li>不饱和重复元素</li>
</ul>
<h4 id="HashSet保证元素唯一的源码分析"><a href="#HashSet保证元素唯一的源码分析" class="headerlink" title="HashSet保证元素唯一的源码分析"></a>HashSet保证元素唯一的源码分析</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashSet</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractSet</span>&lt;<span class="title">E</span>&gt; <span class="keyword">implements</span> <span class="title">Set</span>&lt;<span class="title">E</span>&gt;</span>&#123;</span><br><span class="line">	<span class="comment">//add方法</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">	        <span class="keyword">return</span> map.put(e, PRESENT)==<span class="keyword">null</span>;</span><br><span class="line">	&#125;	   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashMap</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractMap</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">Map</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;, <span class="title">Cloneable</span>, <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">	<span class="function"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> h;</span><br><span class="line">        <span class="keyword">return</span> (key == <span class="keyword">null</span>) ? <span class="number">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class="number">16</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> putVal(hash(key), key, value, <span class="keyword">false</span>, <span class="keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">	<span class="comment">//hash值与hashCode方法相关</span></span><br><span class="line">    <span class="function"><span class="keyword">final</span> V <span class="title">putVal</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, <span class="keyword">boolean</span> onlyIfAbsent,</span></span></span><br><span class="line"><span class="params"><span class="function">                   <span class="keyword">boolean</span> evict)</span> </span>&#123;</span><br><span class="line">        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="keyword">int</span> n, i;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//如果哈希表未初始化，就对齐初始化</span></span><br><span class="line">        <span class="keyword">if</span> ((tab = table) == <span class="keyword">null</span> || (n = tab.length) == <span class="number">0</span>)</span><br><span class="line">            n = (tab = resize()).length;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//根据对象的哈希值计算对象的存储位置，如果该位置没有元素，就存储元素</span></span><br><span class="line">        <span class="keyword">if</span> ((p = tab[i = (n - <span class="number">1</span>) &amp; hash]) == <span class="keyword">null</span>)</span><br><span class="line">            tab[i] = newNode(hash, key, value, <span class="keyword">null</span>);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            Node&lt;K,V&gt; e; K k;</span><br><span class="line">            <span class="comment">// p.hash == hash：存入的元素和以前的元素比较哈希值</span></span><br><span class="line">            <span class="comment">// 如果不同就继续向下执行，把元素添加到集合；如果相同，会调用对象的equals方法来进行比较</span></span><br><span class="line">            <span class="comment">// 如果equals返回false，把元素添加到集合；如果返回true说明元素重复、不存储</span></span><br><span class="line">            <span class="keyword">if</span> (p.hash == hash &amp;&amp;</span><br><span class="line">                ((k = p.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                e = p;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (p <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class="keyword">this</span>, tab, hash, key, value);</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> binCount = <span class="number">0</span>; ; ++binCount) &#123;</span><br><span class="line">                    <span class="keyword">if</span> ((e = p.next) == <span class="keyword">null</span>) &#123;</span><br><span class="line">                        p.next = newNode(hash, key, value, <span class="keyword">null</span>);</span><br><span class="line">                        <span class="keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="number">1</span>) <span class="comment">// -1 for 1st</span></span><br><span class="line">                            treeifyBin(tab, hash);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                        ((k = e.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    p = e;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (e != <span class="keyword">null</span>) &#123; <span class="comment">// existing mapping for key</span></span><br><span class="line">                V oldValue = e.value;</span><br><span class="line">                <span class="keyword">if</span> (!onlyIfAbsent || oldValue == <span class="keyword">null</span>)</span><br><span class="line">                    e.value = value;</span><br><span class="line">                afterNodeAccess(e);</span><br><span class="line">                <span class="keyword">return</span> oldValue;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ++modCount;</span><br><span class="line">        <span class="keyword">if</span> (++size &gt; threshold)</span><br><span class="line">            resize();</span><br><span class="line">        afterNodeInsertion(evict);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="HashSet集合添加元素的过程"><a href="#HashSet集合添加元素的过程" class="headerlink" title="HashSet集合添加元素的过程"></a>HashSet集合添加元素的过程</h4><img src="https://img-blog.csdnimg.cn/20210314150249641.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_11,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />

<p><span style="background: yellow;">要保证元素的唯一性，就需要重写hashCode()和equals()</span></p>
<h3 id="哈希表"><a href="#哈希表" class="headerlink" title="哈希表"></a>哈希表</h3><p>哈希表：</p>
<ul>
<li>JDK8之前，底层采用<span style="background: yellow;">数组+链表</span>实现，可以说是<span style="background: yellow;">元素为链表的数组</span></li>
<li>JDK8之后，在长度比较长之后，底层做出了优化</li>
</ul>
<p>1、哈希表如何保证元素唯一性的？</p>
<p><img src="https://img-blog.csdnimg.cn/20210314150907167.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h3 id="LinkedHashSet"><a href="#LinkedHashSet" class="headerlink" title="LinkedHashSet"></a>LinkedHashSet</h3><p>1、特点：</p>
<ul>
<li>哈希表和链表实现set接口，具有可预测的迭代次序</li>
<li>由链表保证元素<span style="background: yellow;">有序</span>，也就是说元素的<span style="background: yellow;">存储和取出顺序一致</span></li>
<li>由哈希表保证<span style="background: yellow;">元素唯一</span>，也就是说没有重复的元素</li>
</ul>
<h3 id="TreeSet"><a href="#TreeSet" class="headerlink" title="TreeSet"></a>TreeSet</h3><p>1、特点：</p>
<ul>
<li><p>元素有序，按照一定的顺序进行排序，取决于构造方法<br><code>TreeSet()</code>：根据元素的自然排序进行排序<br><code>TreeSet(Comparator comparator)</code>：根据指定的比较器进行排序</p>
</li>
<li><p>没有带索引的方法</p>
</li>
<li><p>不含重复元素</p>
</li>
</ul>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">TreeSet&lt;Integer&gt; ts = <span class="keyword">new</span> TreeSet&lt;Integer&gt;();</span><br><span class="line"></span><br><span class="line">ts.add(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">ts.add(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">ts.add(<span class="string">&quot;1&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(String s:ts)&#123;</span><br><span class="line">	System.out.println(s);<span class="comment">//1,2,3  自然排序</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="自然排序Comparable"><a href="#自然排序Comparable" class="headerlink" title="自然排序Comparable"></a>自然排序Comparable</h3><p>存储学生对象并遍历，创建TreeSet集合使用无参构造方法</p>
<blockquote>
<p>需求：按照年龄从小到大，年龄相同按照名字字母排序</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">stu</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">stu</span>&gt;</span>&#123;</span><br><span class="line">	String name;</span><br><span class="line">	Int age;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(stu s)</span></span>&#123;</span><br><span class="line">		<span class="comment">//相等：return 0;</span></span><br><span class="line">		<span class="comment">//升序：return 1；</span></span><br><span class="line">		<span class="comment">//降序：return -1；</span></span><br><span class="line">		<span class="keyword">int</span> num = <span class="keyword">this</span>.age-s.age</span><br><span class="line">		num == <span class="number">0</span> ? <span class="keyword">this</span>.name.compareTo(s.name):num</span><br><span class="line">		<span class="keyword">return</span> num;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main&#123;</span><br><span class="line">	TreeSet&lt;stu&gt; ts = <span class="keyword">new</span> TreeSet&lt;stu&gt;();</span><br><span class="line">	stu s1 = <span class="keyword">new</span> stu(<span class="string">&quot;aa&quot;</span>,<span class="number">1</span>);</span><br><span class="line">	stu s2 = <span class="keyword">new</span> stu(<span class="string">&quot;bb&quot;</span>,<span class="number">2</span>);</span><br><span class="line">	stu s3 = <span class="keyword">new</span> stu(<span class="string">&quot;ab&quot;</span>,<span class="number">1</span>);</span><br><span class="line">	stu s4 = <span class="keyword">new</span> stu(<span class="string">&quot;cc&quot;</span>,<span class="number">3</span>);</span><br><span class="line">	ts.add(s1);</span><br><span class="line">	ts.add(s2);</span><br><span class="line">	ts.add(s3);</span><br><span class="line">	ts.add(s4);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(stu s:ts)&#123;</span><br><span class="line">		System.out.println(s);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>结论：</p>
<ul>
<li>用TreeSet集合存储自定义对象，无参构造方法使用的是自然排序对元素进行排序</li>
<li>自然排序：元素所属的类实现Comparable接口，重写compareTo方法</li>
</ul>
<h3 id="比较器排序Comparator"><a href="#比较器排序Comparator" class="headerlink" title="比较器排序Comparator"></a>比较器排序Comparator</h3><p>存储学生对象并遍历，创建TreeSet集合使用带参构造方法</p>
<blockquote>
<p>需求：按照年龄从小到大，年龄相同按照名字字母排序</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">stu</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">stu</span>&gt;</span>&#123;</span><br><span class="line">	String name;</span><br><span class="line">	Int age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main&#123;</span><br><span class="line">	TreeSet&lt;stu&gt; ts = <span class="keyword">new</span> TreeSet&lt;stu&gt;(<span class="keyword">new</span> Comparator&lt;stu&gt;()&#123;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(stu s1,stu s2)</span></span>&#123;</span><br><span class="line">			<span class="keyword">int</span> num = s1.age-s2.age</span><br><span class="line">			num == <span class="number">0</span> ? <span class="keyword">this</span>.name.compareTo(s.name):num</span><br><span class="line">			<span class="keyword">return</span> num;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">	stu s1 = <span class="keyword">new</span> stu(<span class="string">&quot;aa&quot;</span>,<span class="number">1</span>);</span><br><span class="line">	stu s2 = <span class="keyword">new</span> stu(<span class="string">&quot;bb&quot;</span>,<span class="number">2</span>);</span><br><span class="line">	stu s3 = <span class="keyword">new</span> stu(<span class="string">&quot;ab&quot;</span>,<span class="number">1</span>);</span><br><span class="line">	stu s4 = <span class="keyword">new</span> stu(<span class="string">&quot;cc&quot;</span>,<span class="number">3</span>);</span><br><span class="line">	ts.add(s1);</span><br><span class="line">	ts.add(s2);</span><br><span class="line">	ts.add(s3);</span><br><span class="line">	ts.add(s4);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(stu s:ts)&#123;</span><br><span class="line">		System.out.println(s);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>结论：</p>
<ul>
<li>用TreeSet集合存储自定义对象，有参构造方法使用的是比较器排序对元素进行排序</li>
<li>比较器排序：让集合构造方法接收Comparator的实现类对象，重写compare方法</li>
</ul>
<h2 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h2><p>1、泛型：是JDK5引入的特性，提供了编译时类型安全监测机制，该机制允许在编译时检测到非法的类型</p>
<p>2、本质：<span style="background: yellow;">参数化类型</span>，也就是说所操作的数据类型被指定为一个参数</p>
<p>参数化类型：将类型由原来的具体的类型参数化，然后在调用&#x2F;使用的时候传入具体的类型</p>
<p>参数化类型可以用在<span style="background: yellow;">类（泛型类）、方法（泛型方法）、接口（范型接口）</span>中</p>
<p>3、格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;类型&gt;：指定一种类型的歌手，这里的类型可以看作形参</span><br><span class="line">&lt;类型<span class="number">1</span>，类型<span class="number">2.</span>..&gt;：指定多种类型的格式，多种类型之间由逗号隔开，可以看作形参</span><br><span class="line">将来具体调用时给定的类型可以看作实参，并且实参只能是引用数据类型</span><br></pre></td></tr></table></figure>

<p>4、好处</p>
<ul>
<li>把运行期间的问题提前到了编译期间</li>
<li>避免了强制类型转换</li>
</ul>
<h3 id="泛型类"><a href="#泛型类" class="headerlink" title="泛型类"></a>泛型类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">stu</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">teacher</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main&#123;</span><br><span class="line">	stu s = <span class="keyword">new</span> stu();</span><br><span class="line">	s.setName(<span class="string">&quot;a&quot;</span>);</span><br><span class="line"></span><br><span class="line">	teacher t = <span class="keyword">new</span> teacher();</span><br><span class="line">	t.setAge(<span class="number">30</span>);</span><br><span class="line">	<span class="comment">//t.setAge(&quot;30&quot;); 会报错，只能接受integer</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>泛型类的定义格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">修饰符 <span class="class"><span class="keyword">class</span> 类名&lt;类型&gt;</span>&#123;&#125;</span><br><span class="line">类型：T、E、K、V...</span><br></pre></td></tr></table></figure>

<p>新建泛型类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">generic</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> T t;</span><br><span class="line">	get/set...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main&#123;</span><br><span class="line">	generic&lt;String&gt; g1 = <span class="keyword">new</span> generic&lt;String&gt;();</span><br><span class="line">	g1.setT(<span class="string">&quot;a&quot;</span>);<span class="comment">//只能填String</span></span><br><span class="line">	generic&lt;Integer&gt; g2 = <span class="keyword">new</span> generic&lt;Integer&gt;();</span><br><span class="line">	g1.setT(<span class="number">1</span>);<span class="comment">//只能填Integer</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="泛型方法"><a href="#泛型方法" class="headerlink" title="泛型方法"></a>泛型方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">gen</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(String s)</span></span>&#123;System.out.println(s);&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(Integer s)</span></span>&#123;System.out.println(s);&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(Boolean s)</span></span>&#123;System.out.println(s);&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main&#123;</span><br><span class="line">	gen g = <span class="keyword">new</span> gen();</span><br><span class="line">	g.show(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">	g.show(<span class="number">30</span>);</span><br><span class="line">	g.show(<span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br><span class="line">问题：方法必须一一对应，太麻烦</span><br><span class="line"></span><br><span class="line">解决<span class="number">1</span>:使用范型类进行改进</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">gen</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(T s)</span></span>&#123;System.out.println(s);&#125;</span><br><span class="line">&#125;</span><br><span class="line">问题：想要使用不同方法必须创建一个新的类，麻烦</span><br></pre></td></tr></table></figure>

<p>范型方法格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">修饰符 &lt;类型&gt; 返回值类型 方法名(类型 变量名)&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>改进：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">gen</span></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">(T s)</span></span>&#123;System.out.println(s);&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="泛型接口"><a href="#泛型接口" class="headerlink" title="泛型接口"></a>泛型接口</h3><p>1、定义格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">修饰符 <span class="class"><span class="keyword">interface</span> 接口名&lt;类型&gt;</span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">gen</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">(T t)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">gen1</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">gen</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(T t)</span></span>&#123;</span><br><span class="line">		System.out.println(t);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main&#123;</span><br><span class="line">	gen&lt;String&gt; g = <span class="keyword">new</span> gen1&lt;String&gt;();</span><br><span class="line">	g.show(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="类型擦除"><a href="#类型擦除" class="headerlink" title="类型擦除"></a>类型擦除</h3><p>Java 的泛型是<strong>伪泛型</strong>，这是因为 Java 在编译期间，所有的泛型信息都会被擦掉，这也就是通常所说类型擦除。</p>
<p>Java的泛型基本上都是在<span style="background: yellow;">编译器</span>这个层次上实现的，在生成的字节码中是不包含泛型中的类型信息的，使用泛型的时候加上类型参数，在编译器编译的时候会去掉，这个过程成为类型擦除。</p>
<p>为什么使用？为了兼容jdk老版本的编码</p>
<p><strong>使用反射验证</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">  List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">  list.add(<span class="string">&quot;AA&quot;</span>);</span><br><span class="line">  Class&lt;? extends List&gt; aClass = list.getClass();</span><br><span class="line">  Method add = aClass.getMethod(<span class="string">&quot;add&quot;</span>, Object.class);</span><br><span class="line">  add.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">  add.invoke(list,<span class="number">123</span>);</span><br><span class="line">  System.out.println(list);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="类型通配符"><a href="#类型通配符" class="headerlink" title="类型通配符"></a>类型通配符</h3><p>java中的父子类在泛型不被认可，所以要使用通配符进行处理；接下来会使用通配符在泛型在将java中的继承关系重新绑定</p>
<p>通配符一般使用<code>？</code>来表示，可以理解<code>？</code>是泛型中所有类的父类</p>
<p>如果我们不希望<code>list&lt;?&gt;</code>是任何泛型list的父类，只希望它代表某一种泛型list的父类，可以使用类型通配符的上限：</p>
<ul>
<li>类型通配符上限：<code>&lt;?extends 类型&gt;</code></li>
<li><code>list&lt;?extends Number&gt;</code>：表示的类型是Number或者其子类型</li>
</ul>
<p>指定下限：</p>
<ul>
<li>类型通配符下限：<code>&lt;?super 类型&gt;</code></li>
<li><code>list&lt;?super Number&gt;</code>：表示的类型是Number或者其父类型</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//类型通配符：`&lt;?&gt;`</span></span><br><span class="line">List&lt;?&gt; l1 = <span class="keyword">new</span> ArrayList&lt;Object&gt;();</span><br><span class="line">List&lt;?&gt; l2 = <span class="keyword">new</span> ArrayList&lt;Number&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">//上限</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(List&lt;? extends Number&gt; p)</span></span>&#123;</span><br><span class="line">	System.out.println(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main&#123;</span><br><span class="line">	List&lt;String&gt; a = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	List&lt;Integer&gt; b = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	show(a)<span class="comment">//报错</span></span><br><span class="line">	show(b)<span class="comment">//不报错</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//下限</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(List&lt;? <span class="keyword">super</span> Integer&gt; p)</span></span>&#123;</span><br><span class="line">	System.out.println(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main&#123;</span><br><span class="line">	List&lt;Object&gt; a = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	List&lt;Integer&gt; b = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	show(a)<span class="comment">//不报错</span></span><br><span class="line">	show(b)<span class="comment">//不报错</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>问题：什么时候用上边界，什么时候用下边界？</p>
<p>答：上边界在读取T这个类型数据的时候，但不写入数据的时候使用；下边界在需要写入数据时，但不需要读取的时候使用</p>
<p>常用的通配符为： T，E，K，V，？</p>
<ul>
<li>？ 表示不确定的 java 类型</li>
<li>T (type) 表示具体的一个 java 类型</li>
<li>K V (key value) 分别代表 java 键值中的 Key Value</li>
<li>E (element) 代表 Element</li>
</ul>
<h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><p>1、概述和使用</p>
<ul>
<li><code>Interface Map&lt;K,V&gt;</code> K：键；V：值</li>
<li>将键映射到值的对象；不能包含重复的键；每个键可以映射到最多一个值</li>
</ul>
<p>2、创建Map集合对象</p>
<ul>
<li>多态的方式</li>
<li>HashMap</li>
</ul>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">main&#123;</span><br><span class="line">	Map&lt;String,String&gt; a = <span class="keyword">new</span> HashMap&lt;String,String&gt;();</span><br><span class="line"></span><br><span class="line">	<span class="comment">//put：添加方法，第一次出现添加元素，多次出现更改元素</span></span><br><span class="line">	a.put(<span class="string">&quot;a&quot;</span>,<span class="string">&quot;a1&quot;</span>);</span><br><span class="line">	a.put(<span class="string">&quot;b&quot;</span>,<span class="string">&quot;b1&quot;</span>);</span><br><span class="line">	a.put(<span class="string">&quot;b&quot;</span>,<span class="string">&quot;b2&quot;</span>);</span><br><span class="line"></span><br><span class="line">	System.out.println(a);<span class="comment">//&#123;a=a1, b=b2&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="基本功能"><a href="#基本功能" class="headerlink" title="基本功能"></a>基本功能</h3><img src="https://img-blog.csdnimg.cn/20210314175244975.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="1、" style="zoom:50%;" />

<h3 id="获取功能"><a href="#获取功能" class="headerlink" title="获取功能"></a>获取功能</h3> <img src="https://img-blog.csdnimg.cn/20210314175402375.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />

<h3 id="遍历"><a href="#遍历" class="headerlink" title="遍历"></a>遍历</h3><p>1、方式1：</p>
<ul>
<li>获取所有键的集合，用<code>keySet</code>方法实现</li>
<li>遍历键的集合，获取每一个键，用增强for循环实现</li>
<li>根据键找值，用<code>get</code>方法实现</li>
</ul>
<p>2、方式2：</p>
<ul>
<li>获取键值对对象集合，用<code>entrySet</code>方法</li>
<li>遍历键值对对象集合，得到每一个键值对对象，用增强for循环实现</li>
<li>根据键值对对象获取键和值，<code>getKey</code>获取键，<code>getValue</code>获取值</li>
</ul>
<h2 id="Collections"><a href="#Collections" class="headerlink" title="Collections"></a>Collections</h2><p>1、概述：是对集合操作的工具类</p>
<p>2、常用方法：</p>
<ul>
<li><code>public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list)</code>：将指定的列表按照升序排列</li>
<li><code>public static void reverse(List&lt;?&gt; list)</code>：反转指定列表中元素的顺序</li>
<li><code>public static void shuffle(list&lt;?&gt; list)</code>：使用默认的随机源随机排序列表</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line"></span><br><span class="line">list.add(<span class="number">10</span>);</span><br><span class="line">list.add(<span class="number">30</span>);</span><br><span class="line">list.add(<span class="number">20</span>);</span><br><span class="line">list.add(<span class="number">50</span>);</span><br><span class="line">list.add(<span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">Collections.sort(list);</span><br><span class="line">System.out.println(list);<span class="comment">//10、20、30、40、50</span></span><br><span class="line"></span><br><span class="line">Collections.reverse(list);</span><br><span class="line">System.out.println(list);<span class="comment">//40、50、20、30、10</span></span><br><span class="line"></span><br><span class="line">Collections.shuffle(list);</span><br><span class="line">System.out.println(list);<span class="comment">//每次运行都不一样</span></span><br></pre></td></tr></table></figure>

<p>对于排序，使用比较器进行排序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Collections.sort(array,<span class="keyword">new</span> Comparator&lt;stu&gt;()&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(stu s1,stu s2)</span></span>&#123;</span><br><span class="line">		.....</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="IO流"><a href="#IO流" class="headerlink" title="IO流"></a>IO流</h1><h2 id="File"><a href="#File" class="headerlink" title="File"></a>File</h2><h3 id="概述和构造方法"><a href="#概述和构造方法" class="headerlink" title="概述和构造方法"></a>概述和构造方法</h3><p>File：是文件和目录路径名的抽象表示</p>
<ul>
<li>文件和目录是可以通过File封装成对象的</li>
<li>对于File而言，<span style="background: yellow;">其封装的并不是一个真正存在的文件，仅仅是一个路径名</span>而已，它可以是存在的，也可以不存在。将来要通过具体的操作把这个路径的内容转换为具体的存在。</li>
</ul>
<p>1、方法</p>
<ul>
<li><code>File(String pathname)</code>：通过将给定的路径名字符串转换为抽象路径名来创建新的File实例</li>
<li><code>File(String parent,String child)</code>：从父路径名字符串和子路径字符串创建新的File实例</li>
<li><code>File(File parent,String child)</code>：从父抽象路径名和子路径名字符串创建新的File实例</li>
</ul>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">File l1 = <span class="keyword">new</span> File(<span class="string">&quot;/Users/zhangtao/Desktop/2/1.txt&quot;</span>);</span><br><span class="line">System.out.println(l1);<span class="comment">///Users/zhangtao/Desktop/2/1.txt</span></span><br><span class="line"></span><br><span class="line">File l2 = <span class="keyword">new</span> File(<span class="string">&quot;/Users/zhangtao/Desktop/2&quot;</span>,<span class="string">&quot;1.txt&quot;</span>);</span><br><span class="line">System.out.println(l2);<span class="comment">///Users/zhangtao/Desktop/2/1.txt</span></span><br><span class="line"></span><br><span class="line">File l3 = <span class="keyword">new</span> File(<span class="string">&quot;/Users/zhangtao/Desktop/2&quot;</span>);</span><br><span class="line">File l4 = <span class="keyword">new</span> File(l3,<span class="string">&quot;1.txt&quot;</span>);</span><br><span class="line">System.out.println(l4);<span class="comment">///Users/zhangtao/Desktop/2/1.txt</span></span><br></pre></td></tr></table></figure>

<h3 id="File类的创建功能"><a href="#File类的创建功能" class="headerlink" title="File类的创建功能"></a>File类的创建功能</h3><p>方法：</p>
<ul>
<li><code>public boolean creatNewFile()</code>：文件不存在时，创建新的空文件</li>
<li><code>public boolean mkdir()</code>：创建目录</li>
<li><code>public boolean mkdirs()</code>：创建目录，包括不存在的父目录（多级目录）</li>
</ul>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">//需求1：创建/Users/zhangtao/Desktop/2/目录下java.txt文件</span></span><br><span class="line">    File l1 = <span class="keyword">new</span> File(<span class="string">&quot;/Users/zhangtao/Desktop/2/java.txt&quot;</span>);</span><br><span class="line">    System.out.println(l1.createNewFile());<span class="comment">//再次创建会出现false</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//需求2:创建/Users/zhangtao/Desktop/2/目录下的一个目录javase</span></span><br><span class="line">    File l2 = <span class="keyword">new</span> File(<span class="string">&quot;/Users/zhangtao/Desktop/2/javase&quot;</span>);</span><br><span class="line">    System.out.println(l2.mkdir());<span class="comment">//再次创建会出现false</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//需求3：创建多级目录java/javase/</span></span><br><span class="line">    File l3 = <span class="keyword">new</span> File(<span class="string">&quot;/Users/zhangtao/Desktop/2/java/javase&quot;</span>);</span><br><span class="line">    System.out.println(l3.mkdirs());<span class="comment">//再次创建会出现false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="File类的判断和获取功能"><a href="#File类的判断和获取功能" class="headerlink" title="File类的判断和获取功能"></a>File类的判断和获取功能</h3><p><img src="https://img-blog.csdnimg.cn/20210315165414260.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h3 id="File类的删除功能"><a href="#File类的删除功能" class="headerlink" title="File类的删除功能"></a>File类的删除功能</h3><p>方法：</p>
<ul>
<li><code>public boolean delete()</code>：删除文件或者目录</li>
</ul>
<p>绝对路径和相对路径的区别：</p>
<ul>
<li>绝对路径：完整的路径名，不需要其他信息就可以定位文件</li>
<li>相对路径：使用其他路径名的信息进行解释</li>
</ul>
<p>注意：如果一个目录中有内容，就必须逐层删除</p>
<h3 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h3><p>递归概述：方法定义中调用方法本身</p>
<p>例子：</p>
<blockquote>
<p>每个月的兔子：1、1、2、3、5、8….，从第三个月开始每个月的数量是前两个月之和</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        System.out.println(get(<span class="number">20</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 首先定义一个方法</span></span><br><span class="line"><span class="comment">     * 定一个方法f(n)表示第n个月的兔子</span></span><br><span class="line"><span class="comment">     * 如何表示n-1个月的兔子？f(n-1)</span></span><br><span class="line"><span class="comment">     * 如何表示n-2个月的兔子？f(n-2)</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">1</span>||n==<span class="number">2</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> get(n - <span class="number">1</span>) + get(n - <span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>递归 思路：</p>
<ul>
<li>把一个复杂的问题层层转化为一个与原问题相似的规模较小的问题来求解</li>
<li>递归策略只需少量的程序就可以描述出解题过程所需要的多次重复计算</li>
</ul>
<p>递归解决问题要找到两个内容：</p>
<ul>
<li>递归<span style="background: yellow;">出口<span style="background: yellow;">：否则会出现内存溢出</li>
<li>递归<span style="background: yellow;">规则<span style="background: yellow;">：与原问题相似的规模较小的问题</li>
</ul>
<p><strong>案例1：递归求阶乘</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> get(n-<span class="number">1</span>)*n;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><strong>案例2：遍历目录并打印所有文件的路径</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">get</span><span class="params">(File n)</span></span>&#123;</span><br><span class="line">        File [] files = n.listFiles();</span><br><span class="line">        <span class="keyword">if</span>(files!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span>(File file:files)&#123;</span><br><span class="line">                <span class="keyword">if</span>(file.isDirectory())&#123;</span><br><span class="line">                    get(file);</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    System.out.println(file.getAbsolutePath());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="字节流"><a href="#字节流" class="headerlink" title="字节流"></a>字节流</h2><h3 id="IO流概述和分类"><a href="#IO流概述和分类" class="headerlink" title="IO流概述和分类"></a>IO流概述和分类</h3><p>1、概述：</p>
<ul>
<li>IO：输入&#x2F;输出</li>
<li>流：一种抽象概念，是对数据传输的总称，也就是说数据在设备间的传输统称为流，<span style="background: yellow;">流的本质是数据传输</span></li>
<li>IO流就是用来处理设备间数据传输问题的<br>常见应用：文件复制、文件上传、文件下载</li>
</ul>
<p>2、分类：</p>
<ul>
<li>按照数据的流向分类<br>输入流：读数据<br>输出流：写数据</li>
<li>按照数据类型分类<br>字节流：字节输入流、字节输出流（记事本打开，读不懂的内容，不知道选什么就选字节流）<br>字符流：字符输入流、字符输出流（记事本打开，读得懂的内容）</li>
</ul>
<p>一般来说，IO流的分类按照<span style="background: yellow;">数据类型</span>分类</p>
<h3 id="字节流写数据"><a href="#字节流写数据" class="headerlink" title="字节流写数据"></a>字节流写数据</h3><p>字节流抽象基类：</p>
<ul>
<li><code> InputStream</code>：表示字节输入流的类的超类</li>
<li><code>OutputStream</code>：表示字节输出流的所有类的超类</li>
<li>子类名特点：子类名称都是以其父类名作为子类名的后缀</li>
</ul>
<p><code>FileOutputStream</code>：文件输出流用于将数据写入File</p>
<ul>
<li><code>FileOutputStream (String name)</code>：创建文件输出流以指定的名称写入文件</li>
<li><code>public void write(int b)</code>：根据输入转为字符，写入文件中</li>
</ul>
<p>例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建字节输出流对象，能够自动生成文件</span></span><br><span class="line">FileOutputStream a = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;a.txt&quot;</span>);</span><br><span class="line">a.write(<span class="number">97</span>);<span class="comment">//a</span></span><br><span class="line">a.write(<span class="number">57</span>);<span class="comment">//9</span></span><br><span class="line"><span class="comment">//释放资源</span></span><br><span class="line">a.close();</span><br></pre></td></tr></table></figure>

<h3 id="字节流写数据的三种方式"><a href="#字节流写数据的三种方式" class="headerlink" title="字节流写数据的三种方式"></a>字节流写数据的三种方式</h3><p><img src="https://img-blog.csdnimg.cn/20210315174038402.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建字节输出流对象，能够自动生成文件</span></span><br><span class="line">FileOutputStream a = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;a.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//public void write(int b)</span></span><br><span class="line">a.write(<span class="number">97</span>);<span class="comment">//a</span></span><br><span class="line">a.write(<span class="number">57</span>);<span class="comment">//9</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//public void write(byte b[])</span></span><br><span class="line"><span class="keyword">byte</span>[] by = &#123;<span class="number">97</span>,<span class="number">98</span>,<span class="number">99</span>,<span class="number">100</span>&#125;;</span><br><span class="line">a.write(by);<span class="comment">//abcde</span></span><br><span class="line"><span class="comment">//String.getBytes()：返回字符串的字节数组</span></span><br><span class="line">a.write(<span class="string">&quot;zhang&quot;</span>.getBytes());</span><br><span class="line"></span><br><span class="line"><span class="comment">//public void write(byte b[], int off, int len)</span></span><br><span class="line">a.write(by,<span class="number">1</span>,<span class="number">3</span>);<span class="comment">//bcd</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//释放资源</span></span><br><span class="line">a.close();</span><br></pre></td></tr></table></figure>

<h3 id="字节流写数据的两个小问题"><a href="#字节流写数据的两个小问题" class="headerlink" title="字节流写数据的两个小问题"></a>字节流写数据的两个小问题</h3><p>1、如何实现换行？</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">使用换行符号换行</span><br><span class="line"></span><br><span class="line">win：\r\n</span><br><span class="line">mac：\r</span><br><span class="line">linux：\n</span><br></pre></td></tr></table></figure>

<p>2、如何实现追加写入？</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用true表示文件写入到末尾</span></span><br><span class="line">FileOutputStream a = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;a.txt&quot;</span>,<span class="keyword">true</span>);</span><br></pre></td></tr></table></figure>

<h3 id="字节流写数据加异常处理-finally"><a href="#字节流写数据加异常处理-finally" class="headerlink" title="字节流写数据加异常处理(finally)"></a>字节流写数据加异常处理(finally)</h3><p><code>finally</code>：在异常处理时提供finally来执行所有清楚操作，比如说IO流的释放资源</p>
<p>特点：被finally控制的语句一定会执行，除非JVM退出</p>
<p>格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">	可能导致异常的执行代码</span><br><span class="line">&#125;<span class="keyword">catch</span>(IOexception e)&#123;</span><br><span class="line">	异常处理</span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">	执行所有清除操作</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">FileOutputStream a = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">  	a = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;a.txt&quot;</span>);</span><br><span class="line">  	a.write(<span class="string">&quot;zhang&quot;</span>.getBytes());</span><br><span class="line">&#125;<span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">	e.printStackTrace();</span><br><span class="line">&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">  	<span class="keyword">if</span>(a!=<span class="keyword">null</span>)&#123;</span><br><span class="line">      	<span class="keyword">try</span> &#123;</span><br><span class="line">         	 a.close();</span><br><span class="line">      	&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">         	 e.printStackTrace();</span><br><span class="line">     	 &#125; </span><br><span class="line">  	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="字节流读数据（一次读一个字节数据）"><a href="#字节流读数据（一次读一个字节数据）" class="headerlink" title="字节流读数据（一次读一个字节数据）"></a>字节流读数据（一次读一个字节数据）</h3><blockquote>
<p>需求：把文件的内容读出来打印到控制台</p>
</blockquote>
<p><code>FileInputStream</code>：从文件系统中的文件获取输入字节</p>
<ul>
<li><code>FileInputStream(String name)</code>：通过打开与实际文件的连接来创建一个FileInputStream，该文件由文件系统中的路径名name命名</li>
</ul>
<p>步骤：</p>
<ul>
<li>创建字节输入流对象</li>
<li>调用字节输入流对象的读数据方法</li>
<li>释放资源</li>
</ul>
<p>读取数据：<code>public int read()</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        FileInputStream fs = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;a.txt&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// public int read():读取一个字节的数据</span></span><br><span class="line">        <span class="keyword">int</span> by = fs.read();<span class="comment">//第一次读取</span></span><br><span class="line">        System.out.println((<span class="keyword">char</span>)by);<span class="comment">//a</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> by2 = fs.read();<span class="comment">//第二次读取</span></span><br><span class="line">        System.out.println((<span class="keyword">char</span>)by2);<span class="comment">//9</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> by3 = fs.read();<span class="comment">//第三次读取</span></span><br><span class="line">        System.out.println(by3);<span class="comment">//没有数据了返回-1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//循环读取</span></span><br><span class="line">        <span class="keyword">int</span> by4 = fs.read();</span><br><span class="line">        <span class="keyword">while</span> (by4!=-<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.print((<span class="keyword">char</span>)by4);</span><br><span class="line">            by4 = fs.read();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//优化循环读取</span></span><br><span class="line">        <span class="comment">//fs.read():读取数据</span></span><br><span class="line">        <span class="comment">//by5=fs.read():赋值操作</span></span><br><span class="line">        <span class="comment">//by5!=-1：判断数据是不是-1</span></span><br><span class="line">        <span class="keyword">int</span> by5;</span><br><span class="line">        <span class="keyword">while</span> ((by5=fs.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.println(by5);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        fs.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><strong>案例：复制文本文件</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">分析：读取文件-&gt;写入新文件</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    FileInputStream fs = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;a.txt&quot;</span>);</span><br><span class="line">    FileOutputStream fo = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;b.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> by;</span><br><span class="line">    <span class="keyword">while</span> ((by=fs.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">        fo.write(by);</span><br><span class="line">    &#125;</span><br><span class="line">    fs.close();</span><br><span class="line">    fo.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="字节流读取数据（一次读一个字节数组）"><a href="#字节流读取数据（一次读一个字节数组）" class="headerlink" title="字节流读取数据（一次读一个字节数组）"></a>字节流读取数据（一次读一个字节数组）</h3><p>需求：把文件内容读取出来在控制台输出</p>
<p><code>public int read(byte b[])</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//文件中数据：12345678</span></span><br><span class="line">        FileInputStream fs = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;a.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//public int read(byte b[])：从输入流读取最多b.length个字节的数据到一个字节数组</span></span><br><span class="line">        <span class="keyword">byte</span>[] bys = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">5</span>];</span><br><span class="line">        <span class="comment">//第一次读取数据：12345</span></span><br><span class="line">        <span class="comment">//len表示实际读取的个数,-1表示末尾</span></span><br><span class="line">        <span class="keyword">int</span> len = fs.read(bys);</span><br><span class="line">        System.out.println(<span class="keyword">new</span> String(bys,<span class="number">0</span>,len));</span><br><span class="line">        <span class="comment">//第二次读取：67845，只覆盖了前三个</span></span><br><span class="line">        len = fs.read(bys);</span><br><span class="line">        System.out.println(<span class="keyword">new</span> String(bys,<span class="number">0</span>,len));</span><br><span class="line">        <span class="comment">//第三次读取：67845，不变</span></span><br><span class="line">        len = fs.read(bys);</span><br><span class="line">        <span class="comment">//public String(char value[], int offset, int count)</span></span><br><span class="line">        System.out.println(<span class="keyword">new</span> String(bys,<span class="number">0</span>,len));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//循环改进</span></span><br><span class="line">        <span class="keyword">byte</span>[] bys2 = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];<span class="comment">//1024及其整数倍</span></span><br><span class="line">        <span class="keyword">int</span> len1;</span><br><span class="line">        <span class="keyword">while</span> ((len1=fs.read(bys2))!=-<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.print(<span class="keyword">new</span> String(bys2,<span class="number">0</span>,len1));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        fs.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="字节缓冲流"><a href="#字节缓冲流" class="headerlink" title="字节缓冲流"></a>字节缓冲流</h3><p>1、<code>BufferOutputStream</code>：该类实现缓冲输出流，通过设置这样的输出流，应用程序可以向底层输出流写入字节，而不必为写入的每个字节导致底层系统的调用</p>
<p>2、<code>BufferInputStream</code>：创建一个内部缓冲区数组，读取或者跳过字节时，内部缓冲区将根据需要从所包含的输入流中重新填充，一次很多字节</p>
<p>3、构造方法：</p>
<ul>
<li>字节缓冲输出流：<code>BufferOutputStream(OutputStream out)</code></li>
<li>字节缓冲输入流：<code>BufferInputStream(InputStream in)</code></li>
</ul>
<p>为什么构造方法需要的不是具体的文件？</p>
<ul>
<li>字节缓冲流只是提供缓冲区，真正的读写还得依靠字节流对象</li>
</ul>
<p><strong>就是构造方法和前面不一样，其他的应用方式一样</strong></p>
<p>使用字节缓冲流进行复制文件，效率很高</p>
<h2 id="字符流"><a href="#字符流" class="headerlink" title="字符流"></a>字符流</h2><h3 id="为什么会出现字符流？"><a href="#为什么会出现字符流？" class="headerlink" title="为什么会出现字符流？"></a>为什么会出现字符流？</h3><p>1、存储汉字：</p>
<ul>
<li>GBK编码：占用2个字节</li>
<li>UTF-8编码：占用3个字节</li>
</ul>
<p>为什么复制文本文件有中文没有问题？</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="string">&quot;中国&quot;</span>;</span><br><span class="line"><span class="keyword">byte</span>[] bys = s.getBytes(<span class="string">&quot;UTF-8&quot;</span>);[-<span class="number">28</span>,-<span class="number">72</span>,-<span class="number">83</span>,-<span class="number">27</span>,-<span class="number">101</span>,-<span class="number">67</span>]</span><br><span class="line"><span class="keyword">byte</span>[] bys2 = s.getBytes(<span class="string">&quot;GBK&quot;</span>);[-<span class="number">42</span>,-<span class="number">48</span>,-<span class="number">71</span>,-<span class="number">6</span>]</span><br></pre></td></tr></table></figure>

<p>因为中文字符编码存储后<span style="background: yellow;">第一个字节永远是负的</span>，拼接的时候就知道这个是汉字，再根据编码格式进行拼接。</p>
<p>2、由于字节流操作中文不方便，所以Java提供了字符流</p>
<ul>
<li><span style="background: yellow;">字符流&#x3D;字节流+编码表</span></li>
</ul>
<h3 id="编码表"><a href="#编码表" class="headerlink" title="编码表"></a>编码表</h3><p>计算机中存储的信息都是<span style="background: yellow;">二进制</span>数表示的</p>
<p><span style="background: yellow;">编码</span>：按照某种规则，将字符存储到计算机中</p>
<p><span style="background: yellow;">解码</span>：将存储在计算机中的二进制数按照某种规则解析</p>
<h3 id="字符串中的编码解码问题"><a href="#字符串中的编码解码问题" class="headerlink" title="字符串中的编码解码问题"></a>字符串中的编码解码问题</h3><p>1、编码：</p>
<ul>
<li><code>byte[] getBytes()</code></li>
<li><code>byte[] getBytes(String charsetName)</code></li>
</ul>
<p>2、解码：</p>
<ul>
<li><code>String(byte[] bytes)</code>：</li>
<li><code>String(byte[] bytes,String charsetName)</code></li>
</ul>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="string">&quot;中国&quot;</span>;</span><br><span class="line"><span class="keyword">byte</span>[] bys = s.getBytes();<span class="comment">// [-28, -72, -83, -27, -101, -67]</span></span><br><span class="line"><span class="keyword">byte</span>[] bys1 = s.getBytes(<span class="string">&quot;UTF-8&quot;</span>);<span class="comment">// [-28, -72, -83, -27, -101, -67]</span></span><br><span class="line"><span class="keyword">byte</span>[] bys2 = s.getBytes(<span class="string">&quot;GBK&quot;</span>);<span class="comment">// [-42, -48, -71, -6]</span></span><br><span class="line"></span><br><span class="line">String ss = <span class="keyword">new</span> String(bys);<span class="comment">//中国</span></span><br><span class="line">String ss1 = <span class="keyword">new</span> String(bys1,<span class="string">&quot;UTF-8&quot;</span>);<span class="comment">//中国</span></span><br><span class="line">String ss2 = <span class="keyword">new</span> String(bys1,<span class="string">&quot;GBK&quot;</span>);<span class="comment">//中国</span></span><br></pre></td></tr></table></figure>

<h3 id="字符流中的编码解码问题"><a href="#字符流中的编码解码问题" class="headerlink" title="字符流中的编码解码问题"></a>字符流中的编码解码问题</h3><p>抽象基类：</p>
<ul>
<li><code>Reader</code></li>
<li><code>Writer</code></li>
</ul>
<p>相关的两个类：</p>
<ul>
<li><code>InputStreamReader</code>：字节流到字符流的桥梁，读取字节并使用指定的字符集解码为字符</li>
<li><code> OuputStreamWriter</code>：字符流到字节流的桥梁，使用指定的字符集将写入的字符编码为字节</li>
</ul>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//public OutputStreamWriter(OutputStream out)</span></span><br><span class="line">        <span class="comment">//public OutputStreamWriter(OutputStream out, String charsetName)</span></span><br><span class="line">        OutputStreamWriter os = <span class="keyword">new</span> OutputStreamWriter(<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;a.txt&quot;</span>),<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        os.write(<span class="string">&quot;中国&quot;</span>);</span><br><span class="line">        os.close();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//public InputStreamReader(InputStream in)</span></span><br><span class="line">        <span class="comment">//public InputStreamReader(InputStream in, String charsetName)</span></span><br><span class="line">        InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;a.txt&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//一次读取一个字符数据</span></span><br><span class="line">        <span class="keyword">int</span> ch;</span><br><span class="line">        <span class="keyword">while</span> ((ch=isr.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.println((<span class="keyword">char</span>)ch);</span><br><span class="line">        &#125;</span><br><span class="line">        isr.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="字符流写数据的五种方式"><a href="#字符流写数据的五种方式" class="headerlink" title="字符流写数据的五种方式"></a>字符流写数据的五种方式</h3><p><img src="https://img-blog.csdnimg.cn/20210315202507214.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">OutputStreamWriter os = <span class="keyword">new</span> OutputStreamWriter(<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;a.txt&quot;</span>),<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line"><span class="comment">//public void write(int c)</span></span><br><span class="line"> os.write(<span class="number">97</span>);</span><br><span class="line"> <span class="comment">//public void write(char cbuf[])</span></span><br><span class="line"> <span class="keyword">char</span>[] chs=&#123;<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>&#125;;</span><br><span class="line"> os.write(chs);</span><br><span class="line"> <span class="comment">//public void write(char cbuf[], int off, int len)</span></span><br><span class="line"> os.write(chs,<span class="number">0</span>,chs.length);</span><br><span class="line"> <span class="comment">//public void write(String str)</span></span><br><span class="line"> os.write(<span class="string">&quot;中国&quot;</span>);</span><br><span class="line"> <span class="comment">//public void write(String str, int off, int len)</span></span><br><span class="line"> os.write(<span class="string">&quot;中国nb&quot;</span>,<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line"> os.close();</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20210315203049806.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h3 id="字符流读数据的两种方式"><a href="#字符流读数据的两种方式" class="headerlink" title="字符流读数据的两种方式"></a>字符流读数据的两种方式</h3><p><img src="https://img-blog.csdnimg.cn/20210315203137982.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;a.txt&quot;</span>),<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        <span class="comment">//public int read()</span></span><br><span class="line">        <span class="keyword">int</span> ch;</span><br><span class="line">        <span class="keyword">while</span> ((ch=isr.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.print((<span class="keyword">char</span>)ch);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//public int read(char cbuf[], int offset, int length)</span></span><br><span class="line">        <span class="keyword">char</span>[] chs = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len;</span><br><span class="line">        <span class="keyword">while</span> ((len=isr.read(chs))!=-<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.print(<span class="keyword">new</span> String(chs,<span class="number">0</span>,len));</span><br><span class="line">        &#125;</span><br><span class="line">        isr.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="FileReader和FileWriter"><a href="#FileReader和FileWriter" class="headerlink" title="FileReader和FileWriter"></a>FileReader和FileWriter</h3><p>当不涉及编码和解码时使用来简化操作</p>
<p><code>FileReader(String name)</code>：读取字符文件的便捷类<br><code>FileWriter(String name)</code>：写入字符文件的便捷类</p>
<p><strong>案例：复制文件</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        FileReader isr = <span class="keyword">new</span> FileReader(<span class="string">&quot;a.txt&quot;</span>);</span><br><span class="line">        FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">&quot;c.txt&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> ch;</span><br><span class="line">        <span class="keyword">while</span> ((ch=isr.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">            fw.write(ch);</span><br><span class="line">        &#125;</span><br><span class="line">        isr.close();</span><br><span class="line">        fw.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="字符缓冲流"><a href="#字符缓冲流" class="headerlink" title="字符缓冲流"></a>字符缓冲流</h3><p>用来提高读写数据的效率</p>
<ul>
<li><code>BufferedReader(Reader in)</code></li>
<li><code>BufferedWriter(Writer out)</code>：</li>
</ul>
<p><strong>案例：复制文件</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        BufferedReader isr = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="string">&quot;a.txt&quot;</span>));</span><br><span class="line">        BufferedWriter fw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">&quot;c.txt&quot;</span>));</span><br><span class="line">        <span class="keyword">int</span> ch;</span><br><span class="line">        <span class="keyword">while</span> ((ch=isr.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">            fw.write(ch);</span><br><span class="line">        &#125;</span><br><span class="line">        isr.close();</span><br><span class="line">        fw.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="字符缓冲流的特有功能"><a href="#字符缓冲流的特有功能" class="headerlink" title="字符缓冲流的特有功能"></a>字符缓冲流的特有功能</h3><p>1、<code>BufferedReader</code></p>
<ul>
<li><code>public String readLine()</code>：读一行文字，结果包含行的内容，<span style="background: yellow;">不包括任何行终止字符</span>，如果结尾到达，则为null</li>
</ul>
<p>2、<code>BufferedWriter</code></p>
<ul>
<li><code>void newLine()</code>：写一行行分隔符，行分隔符字符串由系统定义（win、mac）</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        BufferedReader isr = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="string">&quot;a.txt&quot;</span>));</span><br><span class="line">        BufferedWriter fw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">&quot;a.txt&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//写数据</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">            fw.write(<span class="string">&quot;hello&quot;</span>+i);</span><br><span class="line">            fw.newLine();</span><br><span class="line">            fw.flush();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//读取数据</span></span><br><span class="line">        String a;</span><br><span class="line">        <span class="keyword">while</span>((a =isr.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            System.out.print(a);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        isr.close();</span><br><span class="line">        fw.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><strong>案例：复制文件</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">       BufferedReader isr = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="string">&quot;a.txt&quot;</span>));</span><br><span class="line">       BufferedWriter fw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">&quot;d.txt&quot;</span>));</span><br><span class="line">       <span class="comment">//读取数据</span></span><br><span class="line">       String a;</span><br><span class="line">       <span class="keyword">while</span>((a =isr.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">           fw.write(a);</span><br><span class="line">           fw.newLine();</span><br><span class="line">           fw.flush();</span><br><span class="line">       &#125;</span><br><span class="line">       isr.close();</span><br><span class="line">       fw.close();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h3 id="复制文件的异常处理"><a href="#复制文件的异常处理" class="headerlink" title="复制文件的异常处理"></a>复制文件的异常处理</h3><p>1、方法一：<code>finally</code>的做法</p>
<p>2、方法二：JDK7改进方案</p>
<p>格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>(定义流对象)&#123;</span><br><span class="line">&#125;<span class="keyword">catch</span>()&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span>  </span>&#123;</span><br><span class="line">        <span class="keyword">try</span>(BufferedReader isr = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="string">&quot;a.txt&quot;</span>));</span><br><span class="line">            BufferedWriter fw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">&quot;d.txt&quot;</span>));</span><br><span class="line">                )&#123;</span><br><span class="line">            String a;</span><br><span class="line">            <span class="keyword">while</span>((a =isr.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                fw.write(a);</span><br><span class="line">                fw.newLine();</span><br><span class="line">                fw.flush();</span><br><span class="line">            &#125;</span><br><span class="line">            isr.close();</span><br><span class="line">            fw.close();</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>


<p>3、方法三：JDK9改进方案</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">定义输入流对象；</span><br><span class="line">定义输出流对象；</span><br><span class="line"><span class="keyword">try</span>(输入流对象；输出流对象)&#123;</span><br><span class="line">&#125;<span class="keyword">catch</span>()&#123;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="IO流小结"><a href="#IO流小结" class="headerlink" title="IO流小结"></a>IO流小结</h2><p>1、字节流</p>
<img src="https://img-blog.csdnimg.cn/2021031520565033.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />
<img src="https://img-blog.csdnimg.cn/2021031520571818.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />

<p>2、字符流</p>
<img src="https://img-blog.csdnimg.cn/20210315205744356.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />

<img src="https://img-blog.csdnimg.cn/20210315205822142.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />

<h2 id="特殊操作流"><a href="#特殊操作流" class="headerlink" title="特殊操作流"></a>特殊操作流</h2><h3 id="标准输入输出流"><a href="#标准输入输出流" class="headerlink" title="标准输入输出流"></a>标准输入输出流</h3><p>System类中有两个静态的成员变量：</p>
<ul>
<li><code>public static final InputStream in</code>：标准输入流，对应于键盘输入或由主机环境或用户指定的另外一个输入源</li>
<li><code>public static final PrintStream out</code>：标准输出流</li>
</ul>
<p>自己实现键盘录入数据：</p>
<ul>
<li><code>BufferedReader br = new BufferedReader(new InputStreamReader(System.in));</code></li>
</ul>
<p>Java提供了一个类：</p>
<ul>
<li><code>Scanner sc = new Scanner(System.in)</code></li>
</ul>
<p>输出数据：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">PrintStream is = System.out;</span><br><span class="line">is.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">is.println(<span class="number">100</span>);</span><br><span class="line">is.close();</span><br><span class="line"></span><br><span class="line"><span class="comment">//System.out的本质是一个字节输出流</span></span><br><span class="line">System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="打印流"><a href="#打印流" class="headerlink" title="打印流"></a>打印流</h3><p>分类：</p>
<ul>
<li>字节打印流：<code>PrintStream</code></li>
<li>字符打印流：<code>PrintWriter</code></li>
</ul>
<p>打印流特点：</p>
<ul>
<li>只负责输出数据</li>
<li>由自己的特有方法</li>
</ul>
<p>1、字节打印流：</p>
<ul>
<li><code>PrintStream(String filename)</code>：使用指定的文件名创建新的打印流</li>
<li>使用继承父类方法写数据（write）会转码，使用自己特有方法写数据会原样输出（print）</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PrintStream a = <span class="keyword">new</span> PrintStream(<span class="string">&quot;a.txt&quot;</span>);</span><br><span class="line">a.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">a.close();</span><br></pre></td></tr></table></figure>

<p>2、字符打印流</p>
<ul>
<li><code>PrintWriter(String Filename)</code>:不需要自动执行刷新</li>
<li><code>PrintWriter(Writer out,boolean autoFlush)</code>：如果为true则print、printf或者format方法会刷新缓冲区</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">PrintWriter a = <span class="keyword">new</span> PrintWriter(<span class="string">&quot;a.txt&quot;</span>);</span><br><span class="line">a.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">a.flush()</span><br><span class="line">a.close();</span><br><span class="line"></span><br><span class="line">PrintWriter a = <span class="keyword">new</span> PrintWriter(<span class="keyword">new</span> FileWriter(<span class="string">&quot;a.txt&quot;</span>),<span class="keyword">true</span>);</span><br><span class="line">a.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">a.close();</span><br></pre></td></tr></table></figure>

<h3 id="对象序列化流"><a href="#对象序列化流" class="headerlink" title="对象序列化流"></a>对象序列化流</h3><p>1、<span style="background: yellow;">对象序列化</span>：将对象保存在磁盘中，或者在网络中传输对象</p>
<p>这种机制就是使用一个字节序列表示一个对象，该字节序列包含：对象的类型、对象的数据、对象中存储的属性等信息</p>
<p>字节序列写到文件中之后，相当于持久保存了一个对象的信息。</p>
<p>反之，字节序列可以从文件中读取回来，泛序列化</p>
<p>2、对象序列化流和反序列化流</p>
<ul>
<li>对象序列化流：<code>ObjectOutputStream</code></li>
<li>对象反序列化流：<code>ObjectInputStream</code></li>
</ul>
<h4 id="对象序列化流-1"><a href="#对象序列化流-1" class="headerlink" title="对象序列化流"></a>对象序列化流</h4><p><code>ObjectOutputStream</code>：将对象的原始数据类型和图形写入OutputStream，可以使用ObjectInputStream读取对象，提高使用流的文件来实现对象的持久存储</p>
<p>1、构造方法：<br>-<code>ObjectOutputStream(OutputStream out)</code></p>
<p>2、序列化对象的方法：</p>
<ul>
<li><code>void writeObject(Object obj)</code>：将指定对象写入ObjectOutputStream</li>
</ul>
<p>3、<span style="background: yellow;">被序列化的对象需要实现Serializable接口</span>，这个接口只是个标识接口，没有需要重写的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">b</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    .....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;a.txt&quot;</span>));</span><br><span class="line">        b test= <span class="keyword">new</span> b(<span class="number">30</span>,<span class="string">&quot;zhang&quot;</span>);</span><br><span class="line">        oos.writeObject(test);</span><br><span class="line">        oos.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="对象序列化流-2"><a href="#对象序列化流-2" class="headerlink" title="对象序列化流"></a>对象序列化流</h4><p><code>ObjectInputStream</code>：可以使用ObjectInputStream反序列化对象</p>
<p>1、构造方法：<br>-<code>ObjectInputStream(InputStream in)</code></p>
<p>2、反序列化对象的方法：</p>
<ul>
<li><code>Object readObject()</code>：读取一个对象</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">        ObjectInputStream oos = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;a.txt&quot;</span>));</span><br><span class="line">        b test = (b)oos.readObject();</span><br><span class="line">        System.out.println(test.getAge());</span><br><span class="line">        oos.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="三个问题"><a href="#三个问题" class="headerlink" title="三个问题"></a>三个问题</h4><p><em><strong>1、用对象序列化流序列化一个对象后，假如我们修改了对象所属的类文件，读取数据会不会出问题？</strong></em></p>
<p>答：出现了问题，报错<code>java.io.InvalidClassException</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">报错：</span><br><span class="line">Exception in thread <span class="string">&quot;main&quot;</span> java.io.InvalidClassException: b;</span><br><span class="line">stream classdesc serialVersionUID = -<span class="number">2649758102526158628</span>,</span><br><span class="line">local <span class="class"><span class="keyword">class</span> <span class="title">serialVersionUID</span> </span>= -<span class="number">2109106879062324476</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">当出现以下问题之一时抛出InvalidClassException：</span><br><span class="line"><span class="number">1</span>、类的版本与读取的不一致</span><br><span class="line"><span class="number">2</span>、类中包含未知的数据类型</span><br><span class="line"><span class="number">3</span>、该类没有可访问的无参构造函数</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">serialVersionUID</span><br><span class="line">序列化运行时与每个可序列化的类关联的一个版本号，序列化的类可以通过声明一个serialVersionUID来显式的声明它的serialVersionUID</span><br></pre></td></tr></table></figure>

<p><em><strong>2、如果出问题了，如何解决？</strong></em></p>
<p>显式声明一个serialVersionUID，就不会改变serialVersionUID了</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">b</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">42L</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em><strong>3、如果一个对象中的某个成员值不想被序列化，如何实现</strong></em></p>
<p>使用<code>transient</code>关键字或者<code>static</code>关键字修饰成员变量，就不参与序列化过程了</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">b</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">42L</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br></pre></td></tr></table></figure>

<h3 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Properties</span> <span class="keyword">extends</span> <span class="title">Hashtable</span>&lt;<span class="title">Object</span>,<span class="title">Object</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>是一个Map体系的集合类</li>
<li>Properties类表示一组持久的属性，可以保存到流中或者从流中加载</li>
</ul>
<p><strong>练习：作为Map集合使用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Properties prop = <span class="keyword">new</span> Properties();</span><br><span class="line">prop.put(<span class="string">&quot;hello1&quot;</span>,<span class="number">1</span>);</span><br><span class="line">prop.put(<span class="string">&quot;hello2&quot;</span>,<span class="number">1</span>);</span><br><span class="line">prop.put(<span class="string">&quot;hello3&quot;</span>,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">Set&lt;Object&gt; keySet = prop.keySet();</span><br><span class="line"><span class="keyword">for</span> (Object key:keySet)&#123;</span><br><span class="line">	    Object value  = prop.get(key);</span><br><span class="line">	    System.out.println(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="作为集合的特有的方法"><a href="#作为集合的特有的方法" class="headerlink" title="作为集合的特有的方法"></a>作为集合的特有的方法</h4><p><img src="https://img-blog.csdnimg.cn/20210315222803678.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Properties prop = <span class="keyword">new</span> Properties();</span><br><span class="line">prop.setProperty(<span class="string">&quot;hello1&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">prop.setProperty(<span class="string">&quot;hello2&quot;</span>,<span class="string">&quot;2&quot;</span>);</span><br><span class="line">prop.setProperty(<span class="string">&quot;hello3&quot;</span>,<span class="string">&quot;3&quot;</span>);</span><br><span class="line">System.out.println(prop.getProperty(<span class="string">&quot;hello1&quot;</span>));</span><br><span class="line">Set&lt;String&gt; keys = prop.stringPropertyNames();</span><br><span class="line"><span class="keyword">for</span>(String key:keys)&#123;</span><br><span class="line">    System.out.println(prop.getProperty(key));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="与IO流结合"><a href="#与IO流结合" class="headerlink" title="与IO流结合"></a>与IO流结合</h4><p><img src="https://img-blog.csdnimg.cn/20210315223306239.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">        <span class="comment">//把集合中的数据保存到文件</span></span><br><span class="line">        myStore();</span><br><span class="line">        <span class="comment">//文件的数据加载到集合</span></span><br><span class="line">        myLoad();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">myStore</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        Properties prop = <span class="keyword">new</span> Properties();</span><br><span class="line"></span><br><span class="line">        prop.setProperty(<span class="string">&quot;hello1&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        prop.setProperty(<span class="string">&quot;hello2&quot;</span>,<span class="string">&quot;2&quot;</span>);</span><br><span class="line">        prop.setProperty(<span class="string">&quot;hello3&quot;</span>,<span class="string">&quot;3&quot;</span>);</span><br><span class="line"></span><br><span class="line">        FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">&quot;a.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//writer 描述信息（可以为null）</span></span><br><span class="line">        prop.store(fw,<span class="keyword">null</span>);</span><br><span class="line">        fw.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">myLoad</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        Properties prop = <span class="keyword">new</span> Properties();</span><br><span class="line"></span><br><span class="line">        FileReader fr =<span class="keyword">new</span> FileReader(<span class="string">&quot;a.txt&quot;</span>);</span><br><span class="line">        prop.load(fr);</span><br><span class="line">        fr.close();</span><br><span class="line">        System.out.println(prop);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="多线程基础"><a href="#多线程基础" class="headerlink" title="多线程基础"></a>多线程基础</h1><h2 id="实现多线程"><a href="#实现多线程" class="headerlink" title="实现多线程"></a>实现多线程</h2><h3 id="进程和线程"><a href="#进程和线程" class="headerlink" title="进程和线程"></a>进程和线程</h3><p>1、进程：正在运行的程序</p>
<ul>
<li>是系统进行<span style="background: yellow;">资源分配和调用的独立单位</span></li>
<li>每一个进程都有它自己的内存空间和系统资源</li>
</ul>
<p>2、线程：进程中的单个顺序控制流，是一条执行路径</p>
<ul>
<li>单线程：一个进程只有一条执行路径，则称为<span style="background: yellow;">单线程程序</span></li>
<li>多线程：一个进程有多条执行路径，则称为<span style="background: yellow;">多线程程序</span>（扫雷程序）</li>
</ul>
<p>3、核心概念：</p>
<ul>
<li>线程是独立的执行路径</li>
<li>在程序运行时，没有创建线程后台也会有多个线程</li>
<li>main()称之为主线程，是系统的入口，用于执行整个程序</li>
<li>在一个进程中，如果开辟了多个线程，线程的运行由调度器安排调度，先后顺序不能人为干预</li>
<li><span style="background: yellow;">多个进程间并发执行，同一个进程内多个线程并发执行</span></li>
<li>进程拥有资源，线程不拥有资源</li>
</ul>
<h3 id="多线程的实现方式（一）"><a href="#多线程的实现方式（一）" class="headerlink" title="多线程的实现方式（一）"></a>多线程的实现方式（一）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Thread</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span></span><br></pre></td></tr></table></figure>

<p>创建一个新的执行线程有两种方法：</p>
<p>1、将类继承<code>Thread</code>类：</p>
<ul>
<li>定义一个类继承<code>Thread</code>类</li>
<li>在该类中重写<code>run()</code>方法</li>
<li>创建该类的对象</li>
<li>启动线程（调用<code>start()</code>方法，Java虚拟机调用<code>run()</code>方法）</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span>  <span class="class"><span class="keyword">class</span> <span class="title">c</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">            System.out.println(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        c c1 = <span class="keyword">new</span> c();</span><br><span class="line">        c c2 = <span class="keyword">new</span> c();</span><br><span class="line"></span><br><span class="line">        c1.start();</span><br><span class="line">        c2.start();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><strong>问题1：为什么要重写<code>run</code>方法？</strong></p>
<p>因为<code>run</code>方法是用来封装被线程执行的代码</p>
<p><strong>问题2：<code>run</code>方法和<code>start</code>方法的区别？</strong></p>
<p><code>run</code>方法封装线程执行的代码，直接调用相当于普通方法的调用；<code>start</code>方法是用来启动线程，然后JVM来调用此线程的<code>run</code>方法</p>
<h3 id="多线程的实现方式（二）"><a href="#多线程的实现方式（二）" class="headerlink" title="多线程的实现方式（二）"></a>多线程的实现方式（二）</h3><p>实现<code>Runnable</code>接口</p>
<ul>
<li>定义一个test类实现<code>Runnable</code>接口</li>
<li>在该类中重写<code>run</code>方法</li>
<li>创建test类的对象</li>
<li>创建Thread类的对象，把test对象作为构造方法的参数</li>
<li>启动线程</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span>  <span class="class"><span class="keyword">class</span> <span class="title">c</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">c</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">&quot;-&quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    c c1 = <span class="keyword">new</span> c();</span><br><span class="line">    c c2 = <span class="keyword">new</span> c();</span><br><span class="line">    <span class="comment">//public Thread(Runnable target)</span></span><br><span class="line">    Thread t1 = <span class="keyword">new</span> Thread(c1);</span><br><span class="line">    Thread t2 = <span class="keyword">new</span> Thread(c2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//public Thread(Runnable target, String name)</span></span><br><span class="line">    Thread t3 = <span class="keyword">new</span> Thread(c1,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    Thread t4 = <span class="keyword">new</span> Thread(c2,<span class="string">&quot;2&quot;</span>);</span><br><span class="line"></span><br><span class="line">    t1.start();</span><br><span class="line">    t2.start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用这种方式的<span style="background: yellow;">好处</span>：</p>
<ul>
<li><span style="background: yellow;">避免了Java单继承的局限性</span>，方便一个对象被多个线程使用</li>
<li>适合多个相同程序的代码处理同一个资源的情况，把线程和程序的代码、数据有效分离，较好的体现了面向对象的设计思想</li>
</ul>
<h3 id="多线程的实现方式（三）"><a href="#多线程的实现方式（三）" class="headerlink" title="多线程的实现方式（三）"></a>多线程的实现方式（三）</h3><ul>
<li><p>实现<code>Callable</code>接口，需要返回值类型</p>
</li>
<li><p>重写<code>call</code>方法，需要抛出异常</p>
</li>
<li><p>创建目标对象</p>
</li>
<li><p>创建执行服务</p>
</li>
<li><p>提交执行</p>
</li>
<li><p>获取结果</p>
</li>
<li><p>关闭服务</p>
</li>
</ul>
<p>与 <code>Runnable</code> 相比，<code>Callable</code> 可以有返回值，返回值通过 <code>FutureTask</code> 进行封装</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//实现Callable接口，需要返回值类型</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyCallable</span> <span class="keyword">implements</span> <span class="title">Callable</span>&lt;<span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">//重写call方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">call</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">123</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException </span>&#123;</span><br><span class="line">    MyCallable mc = <span class="keyword">new</span> MyCallable();</span><br><span class="line">    FutureTask&lt;Integer&gt; ft = <span class="keyword">new</span> FutureTask&lt;&gt;(mc);</span><br><span class="line">    Thread thread = <span class="keyword">new</span> Thread(ft);</span><br><span class="line">    thread.start();</span><br><span class="line">    System.out.println(ft.get());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="设置和获取线程名称"><a href="#设置和获取线程名称" class="headerlink" title="设置和获取线程名称"></a>设置和获取线程名称</h3><p>方法：</p>
<ul>
<li><code>void setName(String name)</code>：将此线程的名称进行修改，默认名称<code>Thread-0</code></li>
<li><code>String getName()</code>：返回线程的名称</li>
<li><code>static Thread currentThread()</code>：返回当前线程对象</li>
</ul>
<p>1、线程的默认名称为<code>Thread-0</code>、<code>Thread-1</code>……..</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">volatile</span> String name;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Thread</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    init(<span class="keyword">null</span>, <span class="keyword">null</span>, <span class="string">&quot;Thread-&quot;</span> + nextThreadNum(), <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> threadInitNumber;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">nextThreadNum</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> threadInitNumber++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(ThreadGroup g, Runnable target, String name,<span class="keyword">long</span> stackSize)</span> </span>&#123;</span><br><span class="line">    init(g, target, name, stackSize, <span class="keyword">null</span>, <span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(ThreadGroup g, Runnable target, String name,<span class="keyword">long</span> stackSize, AccessControlContext acc,<span class="keyword">boolean</span> inheritThreadLocals)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2、获取名称</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3、更改名称</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">    checkAccess();</span><br><span class="line">    <span class="keyword">if</span> (name == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException(<span class="string">&quot;name cannot be null&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">if</span> (threadStatus != <span class="number">0</span>) &#123;</span><br><span class="line">        setNativeName(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    c c1 = <span class="keyword">new</span> c();</span><br><span class="line">    c c2 = <span class="keyword">new</span> c();</span><br><span class="line">    c1.setName(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    c2.setName(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">    c1.start();</span><br><span class="line">    c2.start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4、使用<code>Thread</code>类带参构造更改名称</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//父类</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Thread</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">    init(<span class="keyword">null</span>, <span class="keyword">null</span>, name, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//子类</span></span><br><span class="line"><span class="keyword">public</span>  <span class="class"><span class="keyword">class</span> <span class="title">c</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">c</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">c</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">            System.out.println(getName()+<span class="string">&quot;-&quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        c c1 = <span class="keyword">new</span> c(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        c c2 = <span class="keyword">new</span> c(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">        c1.start();</span><br><span class="line">        c2.start();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>5、获取当前执行对象的线程对象引用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">	System.out.println(Thread.currentThread().getName());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="线程调度-优先级"><a href="#线程调度-优先级" class="headerlink" title="线程调度(优先级)"></a>线程调度(优先级)</h3><p>两种调度模型：</p>
<ul>
<li><span style="background: yellow;">分时调度模型</span>：所有线程轮流使用CPU的使用权，平均分配每个线程占用CPU的时间片</li>
<li><span style="background: yellow;">抢占式调度模型</span>：优先让优先级高的线程使用CPU，如果线程的优先级相同，那么会随机选择一个，优先级高的线程获取CPU时间片相对多一些（<span style="background: yellow;">Java使用</span>）</li>
</ul>
<p>Thread类中设置和获取线程优先级的方法：</p>
<ul>
<li><code>public final int getPriority()</code>：返回线程的优先级</li>
<li><code>public final void setPriority(int newPriority)</code>：更改线程的优先级（最小1，最大10，默认5）,<span style="background: yellow;">线程优先级高只是代表获取CPU时间片的几率比较高</span></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    c c1 = <span class="keyword">new</span> c(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    c c2 = <span class="keyword">new</span> c(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">    c1.setPriority(<span class="number">10</span>);</span><br><span class="line">    c2.setPriority(<span class="number">1</span>);</span><br><span class="line">    c1.start();</span><br><span class="line">    c2.start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="线程控制"><a href="#线程控制" class="headerlink" title="线程控制"></a>线程控制</h3><p>方法：</p>
<ul>
<li><code>static void sleep(long millis)</code>：使当前正在执行的线程停留指定的毫秒数</li>
<li><code>void join()</code>：等待这个线程死亡</li>
<li><code>void setDaemon(boolean on)</code>：将此线程标记为守护线程，当运行的线程都是守护线程时，JVM退出</li>
<li><code>static void yield()</code>：暂停当前正在执行的线程对象，并执行其他线程</li>
</ul>
<h4 id="停止线程"><a href="#停止线程" class="headerlink" title="停止线程"></a>停止线程</h4><p>1、不推荐使用JDK提供的<code>stop()</code>、<code>destroy()</code>方法</p>
<p>2、推荐线程自己停下来</p>
<p>3、建议使用一个标志位进行终止变量，当flag&#x3D;false，则终止线程</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestStop</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">  <span class="comment">//1、设置一个标志位</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">boolean</span> flag=<span class="keyword">true</span>;</span><br><span class="line">  <span class="comment">//2、重写run方法</span></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(flag)&#123;</span><br><span class="line">      System.out.println(getName()+<span class="string">&quot;-&quot;</span>+i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//3、设置一个公开的方法停止线程，转换标识位</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span></span>&#123;</span><br><span class="line">    	<span class="keyword">this</span>.flag=<span class="keyword">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="线程休眠"><a href="#线程休眠" class="headerlink" title="线程休眠"></a>线程休眠</h4><p>1、<code>static void sleep(long millis)</code>指定当前线程阻塞的毫秒数；</p>
<p>2、sleep存在异常<code>InterruptedException</code></p>
<p>3、sleep时间达到后线程进入就绪状态</p>
<p>4、sleep可以模拟网络延时，倒计时等</p>
<p>5、每个对象都有一个锁，sleep不会释放锁</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">        System.out.println(getName()+<span class="string">&quot;-&quot;</span>+i);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">        	<span class="comment">//停止1秒</span></span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="线程礼让"><a href="#线程礼让" class="headerlink" title="线程礼让"></a>线程礼让</h4><p>1、<code>static void yield()</code>：礼让线程，让当前执行的线程暂停，但不阻塞</p>
<p>2、将线程从运行状态转为就绪状态</p>
<p>3、让cpu重新调度，&#x3D;&#x3D;礼让不一定成功&#x3D;&#x3D;，看cpu心情</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test</span></span>&#123;</span><br><span class="line">  main&#123;</span><br><span class="line">    t a = <span class="keyword">new</span> t();</span><br><span class="line">    <span class="keyword">new</span> Thread(a,<span class="string">&quot;a&quot;</span>).start();</span><br><span class="line">    <span class="keyword">new</span> Thread(a,<span class="string">&quot;b&quot;</span>).start();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">t</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Thread.yield();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="线程强制执行"><a href="#线程强制执行" class="headerlink" title="线程强制执行"></a>线程强制执行</h4><p>1、<code>void join()</code>：等待这个线程死亡再执行其他线程，其他线程阻塞</p>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">     c t1 = <span class="keyword">new</span> c(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">     c t2 = <span class="keyword">new</span> c(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">     </span><br><span class="line">     t1.start();</span><br><span class="line">     <span class="comment">//t1结束后t2执行</span></span><br><span class="line">     t1.join();</span><br><span class="line">     t2.start();</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>



<p>源代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title">join</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">    join(<span class="number">0</span>);            <span class="comment">//join()等同于join(0)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">join</span><span class="params">(<span class="keyword">long</span> millis)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> base = System.currentTimeMillis();</span><br><span class="line">    <span class="keyword">long</span> now = <span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span> (millis &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;timeout value is negative&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span> (millis == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">while</span> (isAlive()) &#123;</span><br><span class="line">            wait(<span class="number">0</span>);           <span class="comment">//join(0)等同于wait(0)，即wait无限时间直到被notify</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (isAlive()) &#123;</span><br><span class="line">            <span class="keyword">long</span> delay = millis - now;</span><br><span class="line">            <span class="keyword">if</span> (delay &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            wait(delay);</span><br><span class="line">            now = System.currentTimeMillis() - base;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以看出，<code>join()</code>方法的底层是利用<code>wait()</code>方法实现的。可以看出，<code>join方法</code>是一个同步方法，当主线程调用<code>t1.join()</code>方法时，主线程先获得了t1对象的锁，随后进入方法，调用了t1对象的<code>wait()</code>方法，使主线程进入了t1对象的等待池，此时，A线程则还在执行，并且随后的<code>t2.start()</code>还没被执行，因此，B线程也还没开始。等到A线程执行完毕之后，主线程继续执行，走到了<code>t2.start()</code>，B线程才会开始执行。</p>
<p>此外，对于<code>join()</code>的位置和作用的关系，我们可以用下面的例子来分析:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestJoin</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">		System.out.println(Thread.currentThread().getName()+<span class="string">&quot; start&quot;</span>);</span><br><span class="line">		ThreadTest t1=<span class="keyword">new</span> ThreadTest(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">		ThreadTest t2=<span class="keyword">new</span> ThreadTest(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">		ThreadTest t3=<span class="keyword">new</span> ThreadTest(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">		System.out.println(<span class="string">&quot;t1start&quot;</span>);</span><br><span class="line">		t1.start();</span><br><span class="line">		System.out.println(<span class="string">&quot;t2start&quot;</span>);</span><br><span class="line">		t2.start();</span><br><span class="line">		System.out.println(<span class="string">&quot;t3start&quot;</span>);</span><br><span class="line">		t3.start();</span><br><span class="line">		System.out.println(Thread.currentThread().getName()+<span class="string">&quot; end&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">main start</span><br><span class="line">t1start</span><br><span class="line">t1end</span><br><span class="line">t2start</span><br><span class="line">t2end</span><br><span class="line">t3start</span><br><span class="line">t3end</span><br><span class="line">A-<span class="number">1</span></span><br><span class="line">A-<span class="number">2</span></span><br><span class="line">main end</span><br><span class="line">C-<span class="number">1</span></span><br><span class="line">C-<span class="number">2</span></span><br><span class="line">C-<span class="number">3</span></span><br><span class="line">C-<span class="number">4</span></span><br><span class="line">C-<span class="number">5</span></span><br><span class="line">A-<span class="number">3</span></span><br><span class="line">B-<span class="number">1</span></span><br><span class="line">B-<span class="number">2</span></span><br><span class="line">B-<span class="number">3</span></span><br><span class="line">B-<span class="number">4</span></span><br><span class="line">B-<span class="number">5</span></span><br><span class="line">A-<span class="number">4</span></span><br><span class="line">A-<span class="number">5</span></span><br></pre></td></tr></table></figure>

<p>A、B、C和主线程交替运行,加入join()方法后：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestJoin</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">		System.out.println(Thread.currentThread().getName()+<span class="string">&quot; start&quot;</span>);</span><br><span class="line">		ThreadTest t1=<span class="keyword">new</span> ThreadTest(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">		ThreadTest t2=<span class="keyword">new</span> ThreadTest(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">		ThreadTest t3=<span class="keyword">new</span> ThreadTest(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">		System.out.println(<span class="string">&quot;t1start&quot;</span>);</span><br><span class="line">		t1.start();</span><br><span class="line">		System.out.println(<span class="string">&quot;t1end&quot;</span>);</span><br><span class="line">		System.out.println(<span class="string">&quot;t2start&quot;</span>);</span><br><span class="line">		t2.start();</span><br><span class="line">		System.out.println(<span class="string">&quot;t2end&quot;</span>);</span><br><span class="line">		t1.join();</span><br><span class="line">		System.out.println(<span class="string">&quot;t3start&quot;</span>);</span><br><span class="line">		t3.start();</span><br><span class="line">		System.out.println(<span class="string">&quot;t3end&quot;</span>);</span><br><span class="line">		System.out.println(Thread.currentThread().getName()+<span class="string">&quot; end&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">main start</span><br><span class="line">t1start</span><br><span class="line">t1end</span><br><span class="line">t2start</span><br><span class="line">t2end</span><br><span class="line">A-<span class="number">1</span></span><br><span class="line">B-<span class="number">1</span></span><br><span class="line">A-<span class="number">2</span></span><br><span class="line">A-<span class="number">3</span></span><br><span class="line">A-<span class="number">4</span></span><br><span class="line">A-<span class="number">5</span></span><br><span class="line">B-<span class="number">2</span></span><br><span class="line">t3start</span><br><span class="line">t3end</span><br><span class="line">B-<span class="number">3</span></span><br><span class="line">main end</span><br><span class="line">B-<span class="number">4</span></span><br><span class="line">B-<span class="number">5</span></span><br><span class="line">C-<span class="number">1</span></span><br><span class="line">C-<span class="number">2</span></span><br><span class="line">C-<span class="number">3</span></span><br><span class="line">C-<span class="number">4</span></span><br><span class="line">C-<span class="number">5</span></span><br></pre></td></tr></table></figure>

<p>可以看出，主线程在<code>t1.join()</code>方法处停止，并需要等待A线程执行完毕后才会执行<code>t3.start()</code>，然而，并不影响B线程的执行。因此，可以得出结论，<code>t.join()</code>方法只会使主线程进入等待池并等待t线程执行完毕后才会被唤醒。并不影响同一时刻处在运行状态的其他线程。</p>
<h4 id="守护线程"><a href="#守护线程" class="headerlink" title="守护线程"></a>守护线程</h4><p>1、线程分为<span style="background: yellow;">用户线程</span>和<span style="background: yellow;">守护线程</span></p>
<p>2、虚拟机必须确保用户线程执行完毕</p>
<p>3、虚拟机不用等待守护线程执行完毕</p>
<p>4、常见守护线程：后台记录操作日志、监控内存、垃圾回收……</p>
<p>方法：<code>void setDaemon(boolean on)</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">    c c1 = <span class="keyword">new</span> c(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    c c2 = <span class="keyword">new</span> c(<span class="string">&quot;2&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//设置主线程为3</span></span><br><span class="line">    Thread.currentThread().setName(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">    <span class="comment">//设置3结束后1和2自杀,设置为守护线程,但不是立即杀掉</span></span><br><span class="line">    c1.setDaemon(<span class="keyword">true</span>);</span><br><span class="line">    c2.setDaemon(<span class="keyword">true</span>);</span><br><span class="line">    </span><br><span class="line">    c1.start();</span><br><span class="line">    c2.start();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName()+<span class="string">&quot;-&quot;</span>+i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="线程生命周期"><a href="#线程生命周期" class="headerlink" title="线程生命周期"></a>线程生命周期</h3><p>线程状态：</p>
<ul>
<li><p>New（新建）</p>
</li>
<li><p>Runnable（可运行）</p>
</li>
<li><p>Blocked（阻塞）</p>
</li>
<li><p>Wating（等待）</p>
</li>
<li><p>Timed waiting（计时等待）</p>
</li>
<li><p>Terminated（终止）</p>
</li>
</ul>
<p>方法：<code>Thread.State state1 = t1.getState();</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (state1!=Thread.State.TERMINATED)&#123;</span><br><span class="line">  Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">  state1 = t1.getState();</span><br><span class="line">  System.out.println(state1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="https://img-blog.csdnimg.cn/20210316113241947.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h2 id="线程同步"><a href="#线程同步" class="headerlink" title="线程同步"></a>线程同步</h2><p><strong>卖票案例</strong>可能会出现的问题：</p>
<p>1、相同的票出现多次的情况</p>
<p>2、出现了负数票的情况</p>
<p><strong>并发</strong>：同一个对象被多个线程同时操作</p>
<h3 id="卖票数据安全问题"><a href="#卖票数据安全问题" class="headerlink" title="卖票数据安全问题"></a>卖票数据安全问题</h3><p><strong>1、为什么会出现问题？（判断多线程程序是否会有安全问题的标准）</strong></p>
<ul>
<li>是否有多线程环境（三个卖票窗口）</li>
<li>是否共享数据（共享票）</li>
<li>是否有多条语句操作共享数据（卖票）</li>
</ul>
<p><strong>2、如何解决线程安全问题？</strong></p>
<ul>
<li>基本思想：让程序没有安全问题的环境（破坏上述三种环境中的一种环境）</li>
<li>线程同步：一种等待机制，多个需要同时访问此对象的线程进入<span style="background: yellow;">对象的等待池</span>形成队列</li>
</ul>
<p><strong>3、如何实现？</strong></p>
<ul>
<li>队列+锁（每个对象都有锁）</li>
</ul>
<h3 id="同步代码块和同步方法"><a href="#同步代码块和同步方法" class="headerlink" title="同步代码块和同步方法"></a>同步代码块和同步方法</h3><h4 id="同步代码块"><a href="#同步代码块" class="headerlink" title="同步代码块"></a>同步代码块</h4><p>1、作用：锁多条语句操作共享数据</p>
<p>2、格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//相当于给代码加锁，任意对象可以看作一把锁</span></span><br><span class="line"><span class="keyword">synchronized</span>(任意对象)&#123;</span><br><span class="line">	多条语句操作共享数据</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义同一把锁</span></span><br><span class="line"><span class="keyword">private</span> Object obj = <span class="keyword">new</span> Object();</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (obj)&#123;</span><br><span class="line">            <span class="keyword">if</span>(tickets&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">100</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(Thread.currentThread().getName()+<span class="string">&quot;正在出售第&quot;</span>+tickets+<span class="string">&quot;张票&quot;</span>);</span><br><span class="line">                tickets--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3、好处和弊端？</p>
<ul>
<li>好处：解决了多线程的数据安全问题</li>
<li>弊端：当线程很多时，每个线程都会去判断锁，很耗费资源，降低了程序的运行效率</li>
</ul>
<h4 id="同步方法"><a href="#同步方法" class="headerlink" title="同步方法"></a>同步方法</h4><p>1、同步方法：将<code>synchronized</code>关键字加到方法上</p>
<p>2、格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">修饰符 <span class="keyword">synchronized</span> 返回值类型 方法名(方法参数)&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>同步方法的锁——<code>this</code></p>
<p>4、同步静态方法：把<code>synchronized</code>关键字加到静态方法上</p>
<p>同步静态方法的锁——<code>类.class</code></p>
<h3 id="线程安全的类"><a href="#线程安全的类" class="headerlink" title="线程安全的类"></a>线程安全的类</h3><h4 id="StringBuffer"><a href="#StringBuffer" class="headerlink" title="StringBuffer"></a>StringBuffer</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">StringBuffer</span></span></span><br><span class="line"><span class="class">    <span class="keyword">extends</span> <span class="title">AbstractStringBuilder</span></span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span>, <span class="title">CharSequence</span></span></span><br><span class="line"><span class="class"></span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>1、线程安全，可变的字符序列</p>
<p>2、从JDK5开始，被<code>StringBuilder</code>替代，通常使用<code>StringBuilder</code>类，因为它支持所有相同的操作，但是更快，因为它不执行同步</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方法都是同步方法</span></span><br><span class="line">StringBuffer sb = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">StringBuilder sb2 = <span class="keyword">new</span> StringBuilder();</span><br></pre></td></tr></table></figure>

<h4 id="Vector"><a href="#Vector" class="headerlink" title="Vector"></a>Vector</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Vector</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">extends</span> <span class="title">AbstractList</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt;, <span class="title">RandomAccess</span>, <span class="title">Cloneable</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span></span></span><br><span class="line"><span class="class"></span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>1、该类改进了<code>list</code>接口，使其成为<code>Java Collections Framework</code>的成员，与新的集合实现不同，<code>Vector</code>被同步，如果不需要线程安全的实现，建议使用<code>ArrayList</code>代替<code>Vector</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方法都是同步方法</span></span><br><span class="line">Vector&lt;String&gt; v = <span class="keyword">new</span> Vector&lt;&gt;();</span><br><span class="line">ArrayList&lt;String&gt; a = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">List&lt;String&gt; aa = Collections.synchronizedList(<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br></pre></td></tr></table></figure>

<h4 id="Hashtable"><a href="#Hashtable" class="headerlink" title="Hashtable"></a>Hashtable</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hashtable</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">extends</span> <span class="title">Dictionary</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">Map</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;, <span class="title">Cloneable</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>1、该类实现了一个哈希表，它将键映射到值，任何非null对象都可以作为键或者值</p>
<p>2、该类进行改进，实现了<code>Map</code>接口，使其成为<code>Java Collections Framework</code>的成员，与新的集合不同，<code>Hashtable</code>被同步，如果不需要线程安全的实现，建议使用<code>HashMap</code>代替</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方法都是同步方法</span></span><br><span class="line">Hashtable&lt;String, String&gt; ht = <span class="keyword">new</span> Hashtable&lt;&gt;();</span><br><span class="line">HashMap&lt;String, String&gt; hm = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">Map&lt;String, String&gt; m = Collections.synchronizedMap(<span class="keyword">new</span> HashMap&lt;&gt;());</span><br></pre></td></tr></table></figure>

<h3 id="死锁"><a href="#死锁" class="headerlink" title="死锁"></a>死锁</h3><p>多个线程各自占有一些资源，并且互相等待其他线程占有的资源才能运行，而导致两个或者多个线程都在等待对方释放资源，都停止执行的情形，某一个同步块同时拥有<span style="background: yellow;">两个以上对象的锁</span>时，可能发生死锁问题.</p>
<p><strong>产生死锁的条件：</strong></p>
<ul>
<li><strong>互斥条件</strong>：一个资源只能被一个进程使用</li>
<li><strong>请求和保持条件</strong>：一个进程因请求资源而阻塞时，对已获得的资源保持不放</li>
<li><strong>不剥夺条件</strong>：进程已获得的资源，在没有使用完之前不能强行剥夺</li>
<li><strong>循环等待条件</strong>：若干进程之间形成一种头尾相连的循环等待资源的关系</li>
</ul>
<p>破坏其中一个条件即可破坏死锁～～</p>
<h3 id="Lock锁"><a href="#Lock锁" class="headerlink" title="Lock锁"></a>Lock锁</h3><p>为了更清晰表达如何加锁和师傅锁，JDK5之后提供了新的锁对象<code>Lock</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Lock</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>方法：</p>
<ul>
<li><code>void lock()</code>：获得锁</li>
<li><code>void unlock()</code>：释放锁</li>
</ul>
<p>因为Lock是接口，所以采用它的实现类来实例化<code>ReentrantLock</code>（<span style="background: yellow;">可重入锁</span>）, <code>Condition</code>, <code>ReadWriteLock</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span>  <span class="class"><span class="keyword">class</span> <span class="title">c</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> tickets = <span class="number">100</span>;</span><br><span class="line">  </span><br><span class="line">  	<span class="comment">//可重入锁</span></span><br><span class="line">    <span class="keyword">private</span> Lock lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">          	<span class="comment">//加锁</span></span><br><span class="line">            lock.lock();</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(tickets&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        Thread.sleep(<span class="number">100</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName()+<span class="string">&quot;正在出售第&quot;</span>+tickets+<span class="string">&quot;张票&quot;</span>);</span><br><span class="line">                    tickets--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">              	<span class="comment">//解锁</span></span><br><span class="line">                lock.unlock();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="synchronized与lock的对比"><a href="#synchronized与lock的对比" class="headerlink" title="synchronized与lock的对比"></a>synchronized与lock的对比</h4><p>1、<code>Lock</code>是显式锁（手动开启和关闭锁），<code>synchronized</code>是隐式锁，出了作用域自动释放</p>
<p>2、<code>Lock</code>只有代码锁，<code>synchronized</code>有代码锁和方法锁</p>
<p>3、使用<code>Lock</code>锁，JVM将话费少量的时间来调度线程，性能更好，具有更好的扩展性</p>
<p>4、优先使用的顺序：Lock &gt; 同步代码块 &gt; 同步方法</p>
<h2 id="生产者消费者"><a href="#生产者消费者" class="headerlink" title="生产者消费者"></a>生产者消费者</h2><p>两类线程：</p>
<ul>
<li>生产者</li>
<li>消费者</li>
</ul>
<p>为了解耦，通常采用共享的数据区域，就像是仓库</p>
<p><img src="https://img-blog.csdnimg.cn/20210316140746838.png" alt="在这里插入图片描述"></p>
<p>为了体现生产和消费过程中的<span style="background: yellow;">等待和唤醒</span>，Java提供了几个方法：</p>
<img src="https://img-blog.csdnimg.cn/20210316140837774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />



<p>包含的类：</p>
<ul>
<li>奶箱类（Box）：定义一个成员变量表示第x瓶奶，提供存储牛奶和获取牛奶的操作</li>
<li>生产者类（Producer）：实现Runnable接口，重写run方法，调用存储牛奶操作</li>
<li>消费者（Customer）：实现Runnable接口，重写run方法，调用获取牛奶操作</li>
<li>测试类：main方法<br>创建奶箱对象<br>创建生产者对象<br>创建消费者对象<br>创建两个线程对象<br>启动线程</li>
</ul>
<p>1、奶箱类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Box</span> </span>&#123;</span><br><span class="line">    <span class="comment">//第x瓶奶</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> milk;</span><br><span class="line">    <span class="comment">//奶箱的状态</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> state = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> milk)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(state)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.milk = milk;</span><br><span class="line">        System.out.println(<span class="string">&quot;生产者将第&quot;</span>+<span class="keyword">this</span>.milk+<span class="string">&quot;瓶奶放入奶箱&quot;</span>);</span><br><span class="line">        <span class="comment">//生产完毕后修改状态</span></span><br><span class="line">        state=<span class="keyword">true</span>;</span><br><span class="line">        <span class="comment">//唤醒其他等待的线程</span></span><br><span class="line">        notifyAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">get</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!state)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;消费者拿到第&quot;</span>+<span class="keyword">this</span>.milk+<span class="string">&quot;瓶奶&quot;</span>);</span><br><span class="line">        state=<span class="keyword">false</span>;</span><br><span class="line">        <span class="comment">//唤醒其他等待的线程</span></span><br><span class="line">        notifyAll();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2、生产者类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Producer</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Box b;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Producer</span><span class="params">(Box b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.b = b;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">1</span>;i&lt;=<span class="number">100</span>;i++)&#123;</span><br><span class="line">            b.put(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3、消费者类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Consumer</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Box box;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Consumer</span><span class="params">(Box b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.box = b;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">            box.get();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4、测试类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        Box box = <span class="keyword">new</span> Box();</span><br><span class="line">        Producer p = <span class="keyword">new</span> Producer(box);</span><br><span class="line">        Consumer c = <span class="keyword">new</span> Consumer(box);</span><br><span class="line"></span><br><span class="line">        Thread t1 = <span class="keyword">new</span> Thread(p,<span class="string">&quot;生产者&quot;</span>);</span><br><span class="line">        Thread t2 = <span class="keyword">new</span> Thread(c,<span class="string">&quot;消费者&quot;</span>);</span><br><span class="line"></span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="线程池"><a href="#线程池" class="headerlink" title="线程池"></a>线程池</h2><p>1、背景：经常创建和销毁、使用量特别大的资源，比如并发情况下的线程，对性能影响很大</p>
<p>2、思路：提前创建好多个线程，放入线程池中，使用时直接获取，使用完放回。可以避免频繁创建销毁、实现重复利用。</p>
<p>3、好处：</p>
<ul>
<li>提高响应速度（减少了创建新线程的时间）</li>
<li>降低资源消耗（重复利用线程池中的线程，不需要每次都创建）</li>
<li>便于线程管理<ul>
<li><code>corePoolSize</code>：核心池的大小</li>
<li><code>maximumPoolSize</code>：最大线程数</li>
<li><code>keepAliveTime</code>：线程没有任务时最多保持多长时间会终止</li>
</ul>
</li>
</ul>
<p>4、JDK5起提供了线程池相关的相关API：<code>ExecutorService</code>和<code>Executors</code></p>
<p>5、<code>ExecutorService</code>：真正的线程池接口，常见子类：<code>ThreadPoolExecutor</code></p>
<ul>
<li><p><code>void execute(Runnable command)</code>：执行任务&#x2F;命令，没有返回值，一般用来执行Runnable</p>
</li>
<li><p><code>&lt;T&gt;Future&lt;T&gt;submit(Callable&lt;T&gt;task)</code>：执行任务，又返回值，一般用来执行Callable</p>
</li>
<li><p><code>void shutdown()</code>：关闭连接池</p>
</li>
</ul>
<p>6、<code>Executors</code>：工具类、线程池的工厂类，用于创建并返回不同类型的线程池</p>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="comment">//1、创建服务，创建线程池</span></span><br><span class="line">        <span class="comment">//newFixedThreadPool:参数为线程池大小</span></span><br><span class="line">        ExecutorService service = Executors.newFixedThreadPool(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//执行</span></span><br><span class="line">        service.execute(<span class="keyword">new</span> MyThread());</span><br><span class="line">        service.execute(<span class="keyword">new</span> MyThread());</span><br><span class="line">        service.execute(<span class="keyword">new</span> MyThread());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2、关闭链接</span></span><br><span class="line">        service.shutdown();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Lambda"><a href="#Lambda" class="headerlink" title="Lambda"></a>Lambda</h1><h2 id="函数式编程思想"><a href="#函数式编程思想" class="headerlink" title="函数式编程思想"></a>函数式编程思想</h2><p>1、面向对象思想强调“<span style="background: yellow;">必须通过对象的形式来做事情</span>”</p>
<p>2、函数b式思想则尽量忽略面向对象的复杂语法，<span style="background: yellow;">强调做什么，而不是以什么形式去做</span></p>
<h2 id="体验Lambda表达式"><a href="#体验Lambda表达式" class="headerlink" title="体验Lambda表达式"></a>体验Lambda表达式</h2><p><strong>需求：启动一个线程，在控制台输出一句话</strong></p>
<p>方法1:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span>  <span class="class"><span class="keyword">class</span> <span class="title">c</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">main&#123;</span><br><span class="line">	 c c1 = <span class="keyword">new</span> c();</span><br><span class="line">	 Thread t = <span class="keyword">new</span> Thread(c1);</span><br><span class="line">	 t.start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>方法2：匿名内部类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//匿名内部类</span></span><br><span class="line"><span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).start();</span><br></pre></td></tr></table></figure>

<p>方法3：Lambda表达式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Lambda表达式</span></span><br><span class="line"><span class="keyword">new</span> Thread(()-&gt;&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">&#125;).start();</span><br></pre></td></tr></table></figure>

<h2 id="Lambda表达式的标准格式"><a href="#Lambda表达式的标准格式" class="headerlink" title="Lambda表达式的标准格式"></a>Lambda表达式的标准格式</h2><p>匿名内部类中重写<code>run()</code>方法的代码分析：</p>
<ul>
<li>方法形式参数为空，说明调用方法时不需要传递参数</li>
<li>方法返回值类型为void，说明方法执行没有结果返回</li>
<li>方法体中的内容是我们要做的事情</li>
</ul>
<p>Lambda表达式的代码分析：</p>
<ul>
<li><pre><code>`()`：里面没有内容，看成形式参数为空
</code></pre>
</li>
<li><pre><code>`-&gt;`：用剪头指向后面要做的事情
</code></pre>
</li>
</ul>
<p>组成Lambda表达式的三要素：<span style="background: yellow;">形式参数、箭头、代码块</span></p>
<p>Lambda表达式的标准格式：</p>
<ul>
<li>格式：<code>(形式参数)-&gt;&#123;代码块&#125;</code></li>
<li><code>形式参数</code>：如果有多个参数，参数之间用逗号隔开，如果没有参数，留空即可</li>
<li><code>-&gt;</code>：代表动作</li>
<li><code>代码块</code>：代表具体要做的事情，方法体内容</li>
</ul>
<h2 id="Lambda表达式的练习"><a href="#Lambda表达式的练习" class="headerlink" title="Lambda表达式的练习"></a>Lambda表达式的练习</h2><p>1、使用前提：</p>
<ul>
<li>有一个接口</li>
<li>接口中有且只有一个抽象方法</li>
</ul>
<p>2、练习1：</p>
<ul>
<li>定义一个接口，里面定义一个抽象方法</li>
<li>定义一个测试类，在测试类中提供两个方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        <span class="comment">//调用 useEatable</span></span><br><span class="line">        c b1 = <span class="keyword">new</span> b();</span><br><span class="line">        useEatable(b1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//匿名内部类</span></span><br><span class="line">        useEatable(<span class="keyword">new</span> c() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Lambda表达式</span></span><br><span class="line">        useEatable(()-&gt;&#123;</span><br><span class="line">            System.out.println(<span class="number">1</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">useEatable</span><span class="params">(c e)</span></span>&#123;</span><br><span class="line">        e.eat();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>3、练习2</p>
<ul>
<li>定义一个接口，里面定义一个抽象方法：<code>void fly(String s);</code></li>
<li>定义一个测试类，在测试类中提供两个方法<br>方法：<code>useFlyable(Flyable f)</code><br>一个方法是主方法，在主方法中调用<code>useFlyable(Flyable f)</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">       <span class="comment">//匿名内部类</span></span><br><span class="line">       Flyable(<span class="keyword">new</span> c() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">               System.out.println(s);</span><br><span class="line">               System.out.println(<span class="number">1</span>);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br><span class="line"></span><br><span class="line">       <span class="comment">//Lambda表达式</span></span><br><span class="line">       Flyable((String s)-&gt;&#123;</span><br><span class="line">           System.out.println(s);</span><br><span class="line">           System.out.println(<span class="number">2</span>);</span><br><span class="line">       &#125;);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Flyable</span><span class="params">(c e)</span></span>&#123;</span><br><span class="line">       e.fly(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>4、练习3</p>
<ul>
<li>定义一个接口，里面定义一个抽象方法：<code>void add(int x,int y);</code></li>
<li>定义一个测试类，在测试类中提供两个方法<br>方法：<code>useAdd(c c1)</code><br>一个方法是主方法，在主方法中调用<code>useAdd(c c1)</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    <span class="comment">//Lambda表达式</span></span><br><span class="line">    Flyable((<span class="keyword">int</span> x,<span class="keyword">int</span> y)-&gt;&#123;</span><br><span class="line">        <span class="keyword">return</span> x+y;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Flyable</span><span class="params">(c e)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = e.add(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">    System.out.println(sum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Lambda表达式的省略模式"><a href="#Lambda表达式的省略模式" class="headerlink" title="Lambda表达式的省略模式"></a>Lambda表达式的省略模式</h2><p>规则：</p>
<ul>
<li>参数的类型可以省略，有多个参数的情况下不能只省略一个</li>
<li>如果参数只有一个，那么小括号可以省略</li>
<li>如果代码块只有一条语句，可以省略大括号和分号；如果有return，return省略掉</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    <span class="comment">//Lambda表达式</span></span><br><span class="line">    Flyable((<span class="keyword">int</span> x,<span class="keyword">int</span> y)-&gt;&#123;</span><br><span class="line">        <span class="keyword">return</span> x+y;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//参数的类型可以省略</span></span><br><span class="line">    <span class="comment">//有多个参数的情况下不能只省略一个</span></span><br><span class="line">    Flyable((x,y)-&gt;&#123;</span><br><span class="line">        <span class="keyword">return</span> x+y;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//如果参数只有一个，那么小括号可以省略</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//如果代码块只有一条语句，可以省略大括号和分号</span></span><br><span class="line">    <span class="comment">//如果有return，return省略掉</span></span><br><span class="line">    Flyable((x,y)-&gt; x+y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><p>1、使用Lambda表达式时，必须要有接口，且要求接口中只能有一个抽象方法</p>
<p>2、必须有上下文环境，才能推导出Lambda对应的接口</p>
<ul>
<li>根据<span style="background: yellow;">局部变量的赋值</span>得知对应的接口：<code>Runnable r = ()-&gt;System.out.println(&quot;123&quot;)</code></li>
<li>根据<span style="background: yellow;">调用方法的参数</span>得知对应的接口：<code>new Thread(()-&gt;System.out.println(&quot;123&quot;).start()</code></li>
</ul>
<h2 id="Lambda表达式和匿名内部类的区别"><a href="#Lambda表达式和匿名内部类的区别" class="headerlink" title="Lambda表达式和匿名内部类的区别"></a>Lambda表达式和匿名内部类的区别</h2><p>1、所需要的类型不同</p>
<ul>
<li>匿名内部类：可以是接口、抽象类、具体类</li>
<li>Lambda表达式：接口</li>
</ul>
<p>2、使用限制不同</p>
<ul>
<li>如果接口中只有一个抽象方法，可以使用Lambda，也可以匿名内部类</li>
<li>如果接口多于一个抽象方法，只能使用匿名内部类</li>
</ul>
<p>3、实现原理不同</p>
<ul>
<li>匿名内部类：编译之后产生一个单独的.class字节码文件</li>
<li>Lambda表达式：没有单独的字节码文件，对应的字节码文件在运行的时候动态生成</li>
</ul>
<h1 id="注解和反射"><a href="#注解和反射" class="headerlink" title="注解和反射"></a>注解和反射</h1><h2 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h2><h3 id="反射概述"><a href="#反射概述" class="headerlink" title="反射概述"></a>反射概述</h3><p>在运行状态中，对于任意一个类都能知道它的所有属性和方法，对于任意一个对象都能调用它的任意方法和属性，这种动态获取信息及调用对象方法的功能称为反射。</p>
<p><strong>缺点：</strong>破坏了封装性以及泛型约束。</p>
<p>反射是框架的核心，Spring 大量使用反射。</p>
<h3 id="获取反射对象"><a href="#获取反射对象" class="headerlink" title="获取反射对象"></a>获取反射对象</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：通过对象</span></span><br><span class="line">teacher a1 = <span class="keyword">new</span> teacher();</span><br><span class="line">student a2 = <span class="keyword">new</span> student();</span><br><span class="line">Class c1 = a1.getClass();</span><br><span class="line">Class c2 = a2.getClass();</span><br><span class="line"><span class="comment">//方式二：通过类名</span></span><br><span class="line">Class c3 = Class.forName(<span class="string">&quot;com.tao.teacher&quot;</span>);</span><br><span class="line"><span class="comment">//方式三：通过类的class属性</span></span><br><span class="line">Class c4 = teacher.class;</span><br><span class="line"><span class="comment">//方式四</span></span><br><span class="line">Class c5 = Integer.TYPE;</span><br></pre></td></tr></table></figure>

<h3 id="所有类型的反射对象"><a href="#所有类型的反射对象" class="headerlink" title="所有类型的反射对象"></a>所有类型的反射对象</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//类:class java.lang.Object</span></span><br><span class="line">Class c7 = Object.class;</span><br><span class="line"><span class="comment">//接口:interface java.lang.Comparable</span></span><br><span class="line">Class c8 = Comparable.class;</span><br><span class="line"><span class="comment">//一维数组:class [Ljava.lang.String;</span></span><br><span class="line">Class c9 = String[].class;</span><br><span class="line"><span class="comment">//二维数组:class [[I</span></span><br><span class="line">Class c10 = <span class="keyword">int</span>[][].class;</span><br><span class="line"><span class="comment">//注解:interface java.lang.Override</span></span><br><span class="line">Class c11 = Override.class;</span><br><span class="line"><span class="comment">//枚举:class java.lang.annotation.ElementType</span></span><br><span class="line">Class c12 = ElementType.class;</span><br><span class="line"><span class="comment">//基本数据类型:class java.lang.Integer</span></span><br><span class="line">Class c13 = Integer.class;</span><br><span class="line"><span class="comment">//void:void</span></span><br><span class="line">Class c14 = <span class="keyword">void</span>.class;</span><br></pre></td></tr></table></figure>

<h3 id="类的方法"><a href="#类的方法" class="headerlink" title="类的方法"></a>类的方法</h3><h4 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h4><p>1、<strong>加载功能</strong></p>
<p>把字节码文件加载到内存</p>
<p><code>Class.forName(&quot;&quot;)</code></p>
<p>2、<strong>获取功能</strong></p>
<ul>
<li><p><strong>获取成员变量</strong></p>
<ul>
<li><p><code>getField(String name)</code>：根据属性名得到属性对象，如果属性是私有的返回null</p>
</li>
<li><p><code>getFields()</code>：得到当前class里面的所有<strong>非私有</strong>的属性</p>
</li>
<li><p>【重点】<code>getDeclaredField(String name)</code>：根据属性名得到属性对象[忽略修饰符]</p>
</li>
<li><p>【重点】<code>getDeclaredFields()</code>：得到当前class里面所有属性</p>
</li>
</ul>
</li>
<li><p><strong>获取构造方法</strong></p>
<ul>
<li><code>getConstructor(Class&lt;?&gt;... parameterTypes)</code>：根据参数类型和个数得到对应公有的构造方法</li>
<li><code>getConstructor()</code>：得到所有的公有的构造方法</li>
<li>【重点】<code>getDeclaredConstructor(Class&lt;?&gt;... parameterTypes)</code>：根据参数得到构造器</li>
<li>【重点】<code>getDeclaredConstructors()</code>：得到所有构造器</li>
</ul>
</li>
<li><p><strong>获取成员方法</strong></p>
<ul>
<li><code>getMethod(String name, Class&lt;?&gt;... parameterTypes)</code></li>
<li><code>getMethods()</code></li>
<li>【重点】<code>getDeclaredMethod(String name, Class&lt;?&gt;... parameterTypes)</code></li>
<li>【重点】<code>getDeclaredMethods()</code></li>
</ul>
</li>
<li><p><strong>获取类名</strong></p>
<ul>
<li><code>getName()</code>：获取类的完全限定名（包+类型）</li>
<li><code>getSimpleName</code>：只得到类名</li>
</ul>
</li>
</ul>
<p>3、创建</p>
<ul>
<li><code>newInstance()</code>：使用class类创建一个当前的对象，真是的类里面必须要有空的构造方法</li>
</ul>
<h4 id="Constructor"><a href="#Constructor" class="headerlink" title="Constructor"></a>Constructor</h4><p>1、【重点】<code>newInstance(Object ... initargs)</code>：通过得到的构造器对象创建对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//得到空的构造方法</span></span><br><span class="line">Constructor con1 = c1.getDeclaredConstructor();</span><br><span class="line"><span class="comment">//调用构造方法</span></span><br><span class="line">Object o = con1.newInstance();</span><br><span class="line">System.out.println(o);</span><br><span class="line"></span><br><span class="line"><span class="comment">//得到带参数的构造方法</span></span><br><span class="line">Constructor con2 = c1.getDeclaredConstructor(Integer.class,String.class);</span><br><span class="line">Object o1 = con2.newInstance(<span class="number">1</span>,<span class="string">&quot;zhang&quot;</span>);</span><br><span class="line">System.out.println(o1);</span><br></pre></td></tr></table></figure>

<p>2、<code>setAccessible</code>：是否打破访问权限</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Constructor con1 = c1.getDeclaredConstructor();</span><br><span class="line"><span class="comment">//打破访问权限</span></span><br><span class="line">con1.setAccessible(<span class="keyword">true</span>);</span><br></pre></td></tr></table></figure>

<p>3、<code>getModifiers()</code>：得到当前构造方法的访问权限</p>
<ul>
<li>private：2</li>
<li>public：1</li>
<li>空：0</li>
<li>protected：4</li>
</ul>
<p>4、<code>getParameterCount()</code>：获得参数个数</p>
<p>5、<code>getParameterTypes()</code>：获得参数类型</p>
<h4 id="Field"><a href="#Field" class="headerlink" title="Field"></a>Field</h4><p>1、<code>getName()</code>：得到属性名</p>
<p>2、<code>getModifiers()</code>：得到属性访问权限</p>
<p>3、<code>getType()</code>：得到属性的类型</p>
<p>4、【重点】<code>set(Object obj, Object value)</code>：给对象的属性赋值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//得到属性</span></span><br><span class="line">Field f = c1.getDeclaredField(<span class="string">&quot;age&quot;</span>);</span><br><span class="line"><span class="comment">//赋值</span></span><br><span class="line">f.set(o1,<span class="number">2</span>);</span><br><span class="line">System.out.println(o1);</span><br></pre></td></tr></table></figure>

<p>5、<code>setAccessible</code>：是否打破访问权限</p>
<h4 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h4><p>1、<code>getModifiers()</code>：得到属性访问权限</p>
<p>2、<code>getName()</code>：得到方法名</p>
<p>3、<code>getParameterCount()</code>：获得方法参数个数</p>
<p>4、<code>getParameterTypes()</code>：获得方法参数类型，返回数组</p>
<p>5、<code>getReturnType()</code>：得到返回值类型</p>
<p>6、<code>setAccessible</code>：是否打破访问权限</p>
<p>7、【重点】<code>invoke(Object obj, Object... args)</code>：执行obj这个对象里面的方法，参数为args</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Method m = c1.getDeclaredMethod(<span class="string">&quot;hello&quot;</span>,Integer.class);</span><br><span class="line">m.invoke(o1,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">(Integer age1)</span></span>&#123;</span><br><span class="line">  System.out.println(age1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h2><blockquote>
<p>注解就是对应用程序的某一个部分的特殊说明，这个说明只针对关注这个说明的程序，如果其他程序不关注，那么这个注解对其他程序无效</p>
</blockquote>
<h3 id="注解语法"><a href="#注解语法" class="headerlink" title="注解语法"></a>注解语法</h3><p><strong>Java四大类型：类、接口、枚举、注解</strong></p>
<p>1、格式：<code>public @interface hello&#123;&#125;</code></p>
<p>2、用法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@hello</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">hellotest</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="元注解"><a href="#元注解" class="headerlink" title="元注解"></a>元注解</h3><p>作用在注解上面的注解，能够应用到其他的注解上面</p>
<p>元注解是一张标签，它的作用和目的就是给其他普通的标签进行解释说明</p>
<p>元标签包括：</p>
<ul>
<li><strong>@Retention</strong>：解释说明注解的存活时间<ul>
<li><code>RetentionPolicy.RUNTIME</code>：可以保留到程序运行的时候，会被加载到JVM中</li>
<li><code>RetentionPolicy.CLASS</code>：可以保留到编译运行的时候，不会被加载到JVM中</li>
<li><code>RetentionPolicy.SOURCE</code>：只在源代码阶段保留，编译时丢弃</li>
</ul>
</li>
<li><strong>@Documented</strong>：能够将注解中的元素包含到Javadoc中</li>
<li><strong>@Target</strong> ：标记这个注解作用的范围</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(value = &#123;ElementType.TYPE,ElementType.METHOD&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> hello &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ElementType.TYPE：可以加在类型上，比如类、接口、枚举</span></span><br><span class="line"><span class="comment">//ElementType.METHOD：可以加在方法上（成员方法、静态方法）</span></span><br><span class="line"><span class="comment">//ElementType.CONSTRUCTOR：可以加在构造函数上</span></span><br><span class="line"><span class="comment">//ElementType.FIELD：可以加在属性上</span></span><br><span class="line"><span class="comment">//ElementType.PARAMETER：可以加在方法的参数上</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>@Inherited</strong>：如果一个超类被它注解过的注解进行注解，那么如果它的子类没有被任何注解应用的话，这个子类就继承了超类的注解</p>
</li>
<li><p><strong>@Repeatable</strong></p>
</li>
</ul>
<h3 id="注解的属性"><a href="#注解的属性" class="headerlink" title="注解的属性"></a>注解的属性</h3><p>注解的属性也叫做成员变量，注解只有成员变量，没有方法。</p>
<p>注解的成员变量在注解的定义中以“无形参的方法”形式来声明，其方法名定义了该成员变量的名字，其返回值定义了该成员变量的类型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Inherited</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> hello &#123;</span><br><span class="line">    <span class="comment">//语法：类型 属性名() default 默认值</span></span><br><span class="line">    <span class="comment">//不加default就必须给值</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">age</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">String <span class="title">name</span><span class="params">()</span> <span class="keyword">default</span> &quot;zhang&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@hello(age = 1)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">hellotest</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注：value属性可以省略</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Inherited</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> hello &#123;</span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@hello(&quot;aa&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">hellotest</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="预置的注解"><a href="#预置的注解" class="headerlink" title="预置的注解"></a>预置的注解</h3><p>1、<code>@Deprecated</code>：当前类，方法，属性已经不推荐使用</p>
<p>2、<code>@Override</code>：提示子类要重写父类的方法</p>
<p>3、<code>@SuppressWarnings</code>：去除编辑器相关的警告</p>
<p>4、<code>@FunctionalInterface</code>：主要是标记这个类可以使用Lambda表达式，不加也可以使用Lambda</p>
<h3 id="注解的解析"><a href="#注解的解析" class="headerlink" title="注解的解析"></a>注解的解析</h3><p><strong>离不开反射</strong></p>
<p><strong>1、得到类、属性、方法、参数等上面的注解，返回注解对象</strong></p>
<p><code>&lt;A extends Annotation&gt; A getAnnotation(Class&lt;A&gt; annotationClass) &#123;&#125;</code></p>
<p><code>Annotation[] getAnnotations() &#123;&#125;</code></p>
<p><strong>2、判断注解</strong></p>
<p>注解通过反射获取，首先可以通过Class对象的<code>isAnnotationPresent()</code>方法判断是否应用了某个注解</p>
<p><code> boolean isAnnotationPresent() &#123;&#125;</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">hellotest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//1、解析helloclass</span></span><br><span class="line">        Class&lt;Person&gt; personClass = Person.class;</span><br><span class="line">        <span class="comment">//判断是否有注解</span></span><br><span class="line">        System.out.println(personClass.isAnnotationPresent(helloclass.class));</span><br><span class="line">        <span class="comment">//取出helloclass注解对象</span></span><br><span class="line">        helloclass a1 = personClass.getAnnotation(helloclass.class);</span><br><span class="line">        System.out.println(a1.msg()+<span class="string">&quot;\t&quot;</span>+a1.value());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2、解析hello</span></span><br><span class="line">        Field[] declaredFields = personClass.getDeclaredFields();</span><br><span class="line">        <span class="keyword">for</span>(Field field:declaredFields)&#123;</span><br><span class="line">            <span class="comment">//判断是否有注解</span></span><br><span class="line">            System.out.println(field.isAnnotationPresent(hello.class));</span><br><span class="line">            <span class="keyword">if</span>(field.isAnnotationPresent(hello.class)==<span class="keyword">true</span>)&#123;</span><br><span class="line">                System.out.println(field.getAnnotation(hello.class).value());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3、解析方法</span></span><br><span class="line">        Method[] declaredMethods = personClass.getDeclaredMethods();</span><br><span class="line">        <span class="keyword">for</span> (Method m:declaredMethods)&#123;</span><br><span class="line">            <span class="keyword">boolean</span> a = m.isAnnotationPresent(hellomethod.class);</span><br><span class="line">            System.out.println(a);</span><br><span class="line">            <span class="keyword">if</span> (a==<span class="keyword">true</span>)&#123;</span><br><span class="line">                System.out.println(m.getAnnotation(hellomethod.class).value());</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//4、解析heloparam</span></span><br><span class="line">            <span class="keyword">if</span>(m.getParameterCount()&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="comment">//为什么是二维数组？因为一个方法可能有多个参数，一个参数可能有多个注解</span></span><br><span class="line">                Annotation[][] parameterAnnotations = m.getParameterAnnotations();</span><br><span class="line">                <span class="keyword">for</span> (Annotation[] p:parameterAnnotations)&#123;</span><br><span class="line">                    <span class="keyword">for</span> (Annotation p2:p)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(p2 <span class="keyword">instanceof</span> helloParam)&#123;</span><br><span class="line">                            System.out.println(((helloParam) p2).value());</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@helloclass(value = &quot;类上的注解value&quot;,msg=&quot;类上的注解msg&quot;)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="meta">@hello(&quot;属性上的注解value&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@hellomethod(&quot;方法上的注解value&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">(<span class="meta">@helloParam(&quot;参数上的注解value&quot;)</span> String food)</span></span>&#123;</span><br><span class="line">        System.out.println(food);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="类加载器"><a href="#类加载器" class="headerlink" title="类加载器"></a>类加载器</h2><h3 id="类加载的三个阶段"><a href="#类加载的三个阶段" class="headerlink" title="类加载的三个阶段"></a>类加载的三个阶段</h3><p>1、<strong>源代码：</strong>经过编译器编译后生成的.class字节码文件</p>
<p>2、<strong>类加载：</strong>class字节码文件经类加载器classloader加载到虚拟机内存，类加载器解析class文件生成Class类型的对象</p>
<p>3、<strong>运行时：</strong>newInstance()根据java类型生成对象</p>
<img src="https://img-blog.csdnimg.cn/20210321163552609.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />



<h3 id="类加载器-1"><a href="#类加载器-1" class="headerlink" title="类加载器"></a>类加载器</h3><p><strong>1、类加载器作用</strong></p>
<p>用来加载字节码文件</p>
<p>java.lang.ClassLoader类的基本职责就是<strong>根据一个指定类的名称，找到或者生成其对应的字节代码，然后从这些字节代码定义出一个java类</strong>，即<strong>java.lang.Class的一个实例</strong></p>
<p><strong>2、类加载器的获得方法</strong></p>
<ul>
<li>Class：<code>getClassLoader()</code></li>
<li>ClassLoader类：<code>ClassLoader.getSystemClassLoader()</code></li>
</ul>
<p><strong>3、类加载器重要方法</strong></p>
<img src="https://img-blog.csdnimg.cn/20210321164245304.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />

<h3 id="类加载的过程"><a href="#类加载的过程" class="headerlink" title="类加载的过程"></a>类加载的过程</h3><ul>
<li>装载：查找并加载二进制数据</li>
<li>链接<ul>
<li>验证：确保被加载类信息符合JVM规范，没有安全问题</li>
<li>准备：为类的静态变量分配内存，并将其初始化为默认值</li>
<li>解析：把虚拟机常量池的符合引用转换为直接引用</li>
</ul>
</li>
<li>初始化：为类的静态变量赋予正确的初始值</li>
</ul>
<h3 id="类初始化的步骤"><a href="#类初始化的步骤" class="headerlink" title="类初始化的步骤"></a>类初始化的步骤</h3><p>1、加载类信息</p>
<p>在实例化对象之前，类的装载器会找到需要加载的类class文件，进行类的加载（有父类的会先加载父类），一旦加载到最根上的基类，就会对基类的静态变量和静态初始化块进行初始化；</p>
<p>2、当所有类信息加载完毕，就会执行main（）主方法，然后执行new class（），对类进行实例化，首先对变量和、初始化块以及类的构造函数进行初始化（有父类的首先会对父类进行初始化，多个父类递归的方式）</p>
<p><span style="background: yellow;">（静态变量、静态初始化块：决于它们在类中出现的先后顺序）&gt;（变量、初始化块：决于它们在类中出现的先后顺序）&gt; 构造器</span></p>
<p>有父类的加载顺序：</p>
<ul>
<li>父类–静态变量</li>
<li>父类–静态初始化块</li>
<li>子类–静态变量</li>
<li>子类–静态初始化块</li>
<li>子类main方法</li>
<li>父类–变量</li>
<li>父类–初始化块</li>
<li>父类–构造器</li>
<li>子类–变量</li>
<li>子类–初始化块</li>
<li>子类–构造器</li>
</ul>
<h3 id="JVM中类加载器的层次结构"><a href="#JVM中类加载器的层次结构" class="headerlink" title="JVM中类加载器的层次结构"></a>JVM中类加载器的层次结构</h3><p><strong>1、根类加载器</strong></p>
<p>用来加载Java的核心库（<code>rt.jar</code>），用原生C++代码实现，并不继承自<code>java.lang.ClassLoader</code></p>
<p>加载扩展类和应用程序类加载器，并指定他们的父类加载器，在java中获取不到</p>
<p><strong>2、扩展类加载器</strong></p>
<p>用来加载java的扩展库（<code>jre/.jar</code>），java虚拟机的实现会提供一个扩展库目录，该类加载器在此目录里面查找并加载java类</p>
<p><strong>3、系统类加载器</strong></p>
<p>根据Java应用的类路径加载Java类，一般来说Java的类都是由它加载的</p>
<p><strong>4、自定义加载器</strong></p>
<p>除了系统提供的类加载器意外，开发人员继承<code>java.lang.ClassLoader</code>实现自己的类加载器</p>
<h3 id="双亲委派机制"><a href="#双亲委派机制" class="headerlink" title="双亲委派机制"></a>双亲委派机制</h3><p>如果一个类加载器收到了类加载的请求，它首先不会自己去尝试加载这个类，而是把这个请求委派给父类加载器去完成，每一个层次的类加载器都是如此，因此所有的加载请求最终都应该传送到顶层的启动类加载器中，只有当父加载器反馈自己无法完成这个加载请求（它的搜索范围中没有找到所需的类）时，子加载器才会尝试自己去加载。</p>
<p><strong>好处：保护java核心库的安全</strong></p>
<img src="https://img-blog.csdnimg.cn/20210321170427536.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NjUwODk5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" style="zoom:50%;" />

<p><strong>为什么叫双亲委派？</strong></p>
<p>双：有两个父模型</p>
<p>亲：因为java只支持单继承，所以亲指亲人</p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://example.com/2022/01/06/Java%E8%BF%9B%E9%98%B6/" title="Java进阶" target="_blank" rel="external">http://example.com/2022/01/06/Java进阶/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/SkyeHao" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.jpg" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/SkyeHao" target="_blank"><span class="text-dark">Skye</span><small class="ml-1x">大四就业狗 &amp; 后端开发</small></a></h3>
        <div>随遇而安</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    
  <section id="comments">
  	
      <div id="vcomments"></div>
    
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2022/01/08/mysql/" title="MySQL"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2022/01/06/%E8%87%AA%E5%8A%A8%E8%A3%85%E7%AE%B1%E5%92%8C%E6%8B%86%E7%AE%B1/" title="自动拆箱和自动装箱"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn " data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">    <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div>
    
  </div>
  </div>
</nav>
  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>感谢您的支持，我会继续努力的!</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">扫码打赏，你说多少就多少</p>
              <p class="text-grey">打开支付宝扫一扫，即可进行扫码打赏哦</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">扫码打赏，你说多少就多少</p>
              <p class="text-grey">打开微信扫一扫，即可进行扫码打赏哦</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/SkyeHao" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="https://weibo.com/u/6577680227" target="_blank" title="Weibo" data-toggle=tooltip data-placement=top><i class="icon icon-weibo"></i></a></li>
        
        <li><a href="https://twitter.com/iwebued" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
        <li><a href="https://www.zhihu.com/" target="_blank" title="Zhihu" data-toggle=tooltip data-placement=top><i class="icon icon-zhihu"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
        	Theme by <a href="https://github.com/cofess" target="_blank"> cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.
        </div>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>






   




   
    
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/valine"></script>
  <script type="text/javascript">
  var GUEST = ['nick', 'mail', 'link'];
  var meta = 'nick,mail,link';
  meta = meta.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#vcomments',
    verify: false,
    notify: false,
    appId: 'WCThBnVGMoO5c0FY3bTLPWlR-gzGzoHsz',
    appKey: '7tkgDdkHASKAOrvon3LpBgxx',
    placeholder: 'Just go go',
    avatar: 'mm',
    meta: meta,
    pageSize: '10' || 10,
    visitor: false
  });
  </script>

     







</body>
</html>